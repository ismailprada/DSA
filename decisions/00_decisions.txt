decisions = {
################################################
###CONVERSION DECISIONS
###complete decisions in # for reference
###obvious non-applicable tags like muslim in #
###remember to remove lots of female = no tags
###############################################
	
	convert_to_liege_religion = {
		potential = {
			ai = no
			is_playable = yes
			liege = {
				NOT = { character = ROOT }
				NOT = { religion = ROOT }
				religion_group = ROOT
			}
		}
		allow = {
			NOT = { trait = zealous }
		}
		effect = {
			prestige = -500
			if = {
				limit = { higher_tier_than = BARON }
				religion_authority = {
					modifier = ruler_converted_from
				}
			}
			liege = {
				reverse_religion = ROOT
			}
			if = {
				limit = { higher_tier_than = BARON }
				hidden_tooltip = {
					religion_authority = {
						modifier = ruler_converted_to
					}
				}
			}
			piety = 200
		}
		revoke_allowed = {
			always = no
		}
		ai_will_do = {
			factor = 0
		}
	}
	
	convert_to_liege_culture = {
		potential = {
			is_playable = yes
			liege = {
				NOT = { character = ROOT }
				NOT = { culture = ROOT }
			}
		}
		allow = {
			prestige = 200
		}
		effect = {
			prestige = -200
			liege = {
				reverse_culture = ROOT
			}
		}
		revoke_allowed = {
			always = no
		}
		ai_will_do = {
			factor = 0
		}
	}
	
	convert_to_local_culture = {
		potential = {
			is_playable = yes
			capital_scope = {
				NOT = { culture = ROOT }
			}
			OR = {
				independent = yes
				liege = {
					NOT = { culture = ROOT }
				}
			}
			holy_order = no
			#has_dlc = "Rajas of India"
		}
		allow = {
			prestige = 500
		}
		effect = {
			prestige = -500
			capital_scope = {
				reverse_culture = ROOT
			}
		}
		revoke_allowed = {
			always = no
		}
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0.01
			}
			modifier = {
				factor = 0
				primary_title = {
					is_conquered = yes
					conquest_culture = ROOT
				}
			}
			modifier = {
				factor = 0
				any_vassal = {
					culture = ROOT
					OR = {
						tier = duke
						tier = king
						AND = {
							tier = count
							ROOT = { tier = duke }
						}
					}
				}
			}
			#modifier = {
				#factor = 0
				#capital_scope = {
					#OR = {
						#AND = {
							#culture = norse
							#NOT = {	has_global_flag = norse_culture_flipping }
							#ROOT = {
								#OR = {
									#culture = swedish 
									#culture = norwegian
									#culture = danish
									#culture = norman
								#}
							#}
						#}
						#AND = {
							#culture = saxon
							#ROOT = {
								#OR = {
									#culture = norman 
									#culture = english
								#}
							#}
						#}
						#AND = {
							#culture = norman
							#ROOT = {
								#OR = {
									#culture = english 
									#culture = saxon
								#}
							#}
						#}
						#AND = {
							#culture_group = east_slavic
							#ROOT = {
								#culture = russian
							#}
						#}
						#AND = {
							#culture = pictish
							#ROOT = {
								#culture = scottish
							#}
						#}
						#AND = {
							#culture = lombard
							#ROOT = {
								#culture = italian
							#}
						#}
						#AND = {
							#culture = old_frankish
							#ROOT = {
								#culture = frankish
							#}
						#}
						#AND = {
							#culture = frisian
							#ROOT = {
								#culture = dutch
							#}
						#}
						#AND = {
							#culture = old_saxon
							#ROOT = {
								#culture = german
							#}
						#}
						#AND = {
							#culture = visigothic
							#ROOT = {
								#OR = {
									#culture_group = iberian
									#culture = andalusian_arabic
									#culture = occitan
									#religion_group = muslim
								#}
							#}
						#}
					#}
				#}
			#}
		}
	}
	
	convert_to_local_religion = {
		potential = {
			ai = no
			is_playable = yes
			capital_scope = {
				NOT = { religion = ROOT }
			}
			OR = {
				independent = yes
				liege = {
					NOT = { religion = ROOT }
				}
			}
			
			# The Indian religions can convert to each other anyway
			#OR = {
				#NOT = { religion_group = indian_group }
				#capital_scope = {
					#NOT = { religion_group = indian_group }
				#}
			#}
			
			controls_religion = no
			holy_order = no
			
			#has_dlc = "Rajas of India"
			
			#NOT = {
				#AND = {
					#has_dlc = "Charlemagne"
					#has_landed_title = e_byzantium  # May instead renounce iconoclasm
					#has_landed_title = c_byzantion
					#religion = iconoclast
					#capital_scope = { religion = orthodox }
				#}
			#}
		}
		allow = {
			OR = {
				AND = {
					piety = 500
					capital_scope = {
						religion_group = ROOT
					}
				}
				AND = {
					piety = 1000
					capital_scope = {
						NOT = { religion_group = ROOT }
					}
				}
			}
		}
		effect = {
			if = {
				limit = {
					capital_scope = {
						NOT = { religion_group = ROOT }
					}
				}
				piety = -1000
			}
			if = {
				limit = {
					capital_scope = {
						religion_group = ROOT
					}
				}
				piety = -500
			}
			religion_authority = {
				modifier = ruler_converted_from
			}
			capital_scope = {
				reverse_religion = ROOT
			}
			hidden_tooltip = {
				religion_authority = {
					modifier = ruler_converted_to
				}
			}
		}
		revoke_allowed = {
			always = no
		}
		ai_will_do = {
			factor = 0
		}
	}
	
	convert_to_parent_religion = {
		potential = {
			ai = no
			is_playable = yes
			independent = yes
			is_heretic = yes
			#NOT = {
				#AND = {
					#has_dlc = "Charlemagne"
					#has_landed_title = e_byzantium  # May instead renounce iconoclasm
					#has_landed_title = c_byzantion
					#religion = iconoclast
					#is_heresy_of = orthodox
				#}
			#}
		}
		allow = {
			NOT = { trait = zealous }
		}
		effect = {
			prestige = -500
			if = {
				limit = { higher_tier_than = BARON }
				religion_authority = {
					modifier = ruler_converted_from
				}
			}
			
			abandon_heresy = yes
			
			if = {
				limit = { higher_tier_than = BARON }
				hidden_tooltip = {
					religion_authority = {
						modifier = ruler_converted_to
					}
				}
			}
			piety = 200
		}
		revoke_allowed = {
			always = no
		}
		ai_will_do = {
			factor = 0
		}
	}
	
	# Pagans are allowed to convert to the attacker's religion when under holy war
	convert_to_attacker_religion = {
		is_high_prio = yes
		
		potential = {
			is_playable = yes
			#OR = {
				#religion = norse_pagan
				#religion = slavic_pagan
				#religion = baltic_pagan
				#religion = finnish_pagan
				#religion = tengri_pagan	
				#religion = west_african_pagan
				#religion = zun_pagan
				#religion = aztec
				#religion = zoroastrian
			#}
			controls_religion = no
			war = yes
			any_war = {
				defender = { character = ROOT }
				attacker = {
					#OR = {
						#religion_group = muslim
						#religion_group = christian
					#}
				}
				OR = {
					using_cb = crusade
					using_cb = religious
					using_cb = muslim_invasion
				}
			}
		}
		
		allow = {
			NOT = { trait = zealous }
		}
		
		effect = {
			prestige = -500
			religion_authority = {
				modifier = ruler_converted_from
			}
			
			#if = {
				#limit = { religion_group = pagan_group }
				#add_trait = sympathy_pagans
			#}
			#if = {
				#limit = { religion_group = zoroastrian_group }
				#add_trait = sympathy_zoroastrianism
			#}
			
			any_war = {
				limit = {
					defender = { character = ROOT }
					attacker = {
						#OR = {
							#religion_group = muslim
							#religion_group = christian
						#}
					}
					OR = {
						using_cb = crusade
						using_cb = religious
						using_cb = muslim_invasion
					}
				}
				attacker = {
					hidden_tooltip = {
						letter_event = { id = 62800 }
					}
					hidden_tooltip = {
						ROOT = {
							any_courtier = {
								limit = {
									religion = ROOT
									employer = { character = ROOT }
								}
								religion = PREVPREV
							}
							any_vassal = {
								limit = {
									is_playable = no
									religion = ROOT
								}
								religion = PREVPREV
							}
							capital_scope = {
								if = {
									limit = { religion = ROOT }
									religion = PREVPREV
								}
							}
						}
					}
					reverse_religion = ROOT 
				}
			}
			
			hidden_tooltip = {
				religion_authority = {
					modifier = ruler_converted_to
				}
			}
			
			piety = 100
		}
		
		revoke_allowed = {
			always = no
		}
		
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0.1
			}
			modifier = {
				factor = 0
				NOT = {
					any_war = {
						defender = { character = ROOT }
						attacker = {
							#OR = {
								#religion_group = muslim
								#religion_group = christian
							#}
						}
						OR = {
							using_cb = crusade
							using_cb = religious
							using_cb = muslim_invasion
						}
						war_score = 50
						thirdparty_title_scope = {
							ROOT = {
								primary_title = {
									title = PREVPREV
								}
							}
						}
					}
				}
			}
			modifier = {
				factor = 2
				any_war = {
					defender = { character = ROOT }
					attacker = {
						#OR = {
							#religion_group = muslim
							#religion_group = christian
						#}
					}
					OR = {
						using_cb = crusade
						using_cb = religious
						using_cb = muslim_invasion
					}
					war_score = 75
					thirdparty_title_scope = {
						ROOT = {
							primary_title = {
								title = PREVPREV
							}
						}
					}
				}
			}
		}
	}
	
	#convert_to_swedish = {
		#potential = {
			#culture = norse
			#is_ruler = yes
			#capital_scope = {
				#kingdom = { title = k_sweden }
			#}
			#any_realm_province = {
				#culture = swedish
			#}
		#}
		#allow = {
			#culture = norse
		#}
		#effect = {
			#culture = swedish
			#any_courtier = {
				#limit = {
					#culture = norse
					#employer = { character = ROOT }
					#dynasty = ROOT
				#}
				#culture = swedish
			#}
		#}
		#revoke_allowed = {
			#always = no
		#}
		#ai_will_do = {
			#factor = 1
			
			#modifier = {
				#factor = 0.2 # Slow it down a bit
			#}
			
			#modifier = { # Do not flip if we're in a huge Norse empire
				#factor = 0
				#top_liege = { culture = norse }
				#290 = { # Uppland
					#owner = {
						#same_realm = ROOT
					#}
				#}
				#272 = { # Akershus
					#owner = {
						#same_realm = ROOT
					#}
				#}
				#266 = { # Sjaelland
					#owner = {
						#same_realm = ROOT
					#}
				#}
			#}
			
			#modifier = {
				#factor = 0.01
				#capital_scope = {
					#NOT = { culture = swedish }
				#}
			#}
			#modifier = {
				#factor = 2.0
				#liege = { culture = swedish }
			#}
			#modifier = {
				#factor = 1.1
				#num_culture_realm_provs = {
					#num = 2
					#culture = swedish
				#}
			#}
			#modifier = {
				#factor = 1.1
				#num_culture_realm_provs = {
					#num = 4
					#culture = swedish
				#}
			#}
			#modifier = {
				#factor = 1.1
				#num_culture_realm_provs = {
					#num = 6
					#culture = swedish
				#}
			#}
			#modifier = {
				#factor = 1.1
				#num_culture_realm_provs = {
					#num = 8
					#culture = swedish
				#}
			#}
			#modifier = {
				#factor = 1.1
				#num_culture_realm_provs = {
					#num = 10
					#culture = swedish
				#}
			#}
		#}
	#}
	
	#convert_to_reformed = {
		#potential = {
			#is_playable = yes
			#is_heretic = yes
			#OR = {
				#religion = norse_pagan
			#}
		#}
		#allow = {
			#NOT = { trait = zealous }
			#piety = 50
		#}
		#effect = {
			#piety = -50
			#if = {
				#limit = { religion = norse_pagan }
				#religion = norse_pagan_reformed
			#}
			
			#hidden_tooltip = {
				#any_courtier = {
					#limit = {
						#is_heresy_of = ROOT
						#employer = { character = ROOT }
					#}
					#religion = ROOT
				#}
				#any_vassal = {
					#limit = {
						#is_playable = no
						#is_heresy_of = ROOT
					#}
					#religion = ROOT
				#}
				#capital_scope = {
					#if = {
						#limit = { is_heresy_of = ROOT }
						#religion = ROOT
					#}
				#}
			#}
		#}
		#revoke_allowed = {
			#always = no
		#}
		#ai_will_do = {
			#factor = 1 # On average ca 1 year before taken
			#modifier = {
				#factor = 0.025 # Generally quite a slow process - ca 40 years
			#}
			#modifier = {
				#factor = 0.5
				#trait = slow
			#}
			#modifier = {
				#factor = 0.1
				#trait = imbecile
			#}
			#modifier = {
				#factor = 0.5
				#trait = content
			#}
			#modifier = {
				#factor = 2.0
				#trait = quick
			#}
			#modifier = {
				#factor = 4.0
				#trait = genius
			#}
			#modifier = {
				#factor = 5.0
				#trait = cynical # It's the future..
			#}
			#modifier = {
				#factor = 2.0
				#trait = ambitious
			#}
			#modifier = {
				#factor = 0
				#independent = no
				#any_liege = {
					#religion = ROOT
				#}
			#}
		#}
	#}
	
	# Pagans can convert to the Catholic faith if their wife or a concubine is Catholic
	#convert_to_spouse_catholic = {
		#potential = {
			#ai = no
			#is_playable = yes
			#religion_group = pagan_group
			#controls_religion = no
			#NOT = { trait = zealous }
			#OR = {
				#any_spouse = {
					#religion = catholic
					#hidden_tooltip = {
						#is_alive = yes
					#}
				#}
				#any_consort = {
					#religion = catholic
					#hidden_tooltip = {
						#is_alive = yes
					#}
				#}
			#}
		#}
		
		#effect = {
			#prestige = -500
			#religion_authority = {
				#modifier = ruler_converted_from
			#}
			
			#if = {
				#limit = {
					#trait = cynical
				#}
				#random = {
					#chance = 60
					#add_trait = sympathy_pagans
				#}
			#}
			#if = {
				#limit = {
					#NOT = { trait = cynical }
				#}
				#random = {
					#chance = 50
					#add_trait = sympathy_pagans
				#}
			#}		
			
			#religion = catholic
			
			#hidden_tooltip = {
				#religion_authority = {
					#modifier = ruler_converted_to
				#}
			#}
			#piety = 200
		#}
		
		#revoke_allowed = {
			#always = no
		#}
		
		#ai_will_do = {
			#factor = 0
		#}
	#}
	
	# Carolingian renaissance - Old Frankish conversion to French
	#convert_to_french = {
		#potential = {
			#culture = old_frankish
			#is_ruler = yes
			#capital_scope = {
				#kingdom = { title = k_france }
			#}
			#any_realm_province = {
				#culture = frankish
			#}
		#}
		#allow = {
			#culture = old_frankish
		#}
		#effect = {
			#culture = frankish
			#any_courtier = {
				#limit = {
					#culture = old_frankish
					#employer = { character = ROOT }
					#dynasty = ROOT
				#}
				#culture = frankish
			#}
		#}
		#revoke_allowed = {
			#always = no
		#}
		#ai_will_do = {
			#factor = 1
			
			#modifier = {
				#factor = 0.2 # Slow it down a bit
			#}
			
			#modifier = {
				#factor = 0.01
				#capital_scope = {
					#NOT = { culture = frankish }
				#}
			#}
			#modifier = {
				#factor = 2.0
				#liege = { culture = frankish }
			#}
			#modifier = {
				#factor = 1.1
				#num_culture_realm_provs = {
					#num = 2
					#culture = frankish
				#}
			#}
			#modifier = {
				#factor = 1.1
				#num_culture_realm_provs = {
					#num = 4
					#culture = frankish
				#}
			#}
			#modifier = {
				#factor = 1.1
				#num_culture_realm_provs = {
					#num = 6
					#culture = frankish
				#}
			#}
			#modifier = {
				#factor = 1.1
				#num_culture_realm_provs = {
					#num = 8
					#culture = frankish
				#}
			#}
			#modifier = {
				#factor = 1.1
				#num_culture_realm_provs = {
					#num = 10
					#culture = frankish
				#}
			#}
		#}
	#}
	
	#########################################
	###COUNCILLOR DECISIONS
	#########################################
	 help_liege_manage_titles = {
	 	is_high_prio = yes

		potential = {
			liege = {
				NOT = { character = ROOT }
			}
			
			OR = {
				liege = {
					ai = no
				}
				ai = no
			}

			OR = {
				has_job_title = job_chancellor
				has_job_title = job_treasurer
				has_job_title = job_spiritual
			}
			NOT = { trait = slothful }
			NOT = { had_character_flag = { flag = proposed_to_help_liege_with_titles years = 2 } } 
		}
		allow = {
			liege = {
				over_max_demesne_size = 4
				custom_tooltip = { 
					text = NOT_PROPOSED_TITLE_HELP_RECENTLY_TOOLTIP
					hidden_tooltip = {
						OR = {
							NOT = { has_character_flag = has_been_proposed_about_titles }
							had_character_flag = { flag = has_been_proposed_about_titles days = 14 }
						}
					}
  				}
  				custom_tooltip = {
  					text = NOT_REFUSED_ANY_HELP_WITH_TITLES_TOOLTIP
  					hidden_tooltip = {
  						OR = {
  							NOT = { has_character_flag = refused_any_help_with_titles }
							had_character_flag = { flag = refused_any_help_with_titles days = 712 }
						}
  					}
  				}
  				custom_tooltip = {
  					text = NOT_GETTING_HELP_WITH_TITLES_TOOLTIP
  					hidden_tooltip = {
  						OR = {
  							NOT = { has_character_flag = getting_help_with_titles }
						}
  					}
  				}
			}
		}
		effect = {
			set_character_flag = proposed_to_help_liege_with_titles
			liege = {
				set_character_flag = has_been_proposed_about_titles
			}
			if = {
				limit = {
					has_job_title = job_chancellor
				}
				character_event = { id = 108050 }
			}
			if = {
				limit = {
					has_job_title = job_treasurer
				}
				character_event = { id = 108051 }
			}
			if = {
				limit = {
					has_job_title = job_spiritual
				}
				character_event = { id = 108052 }
			}
		}
		revoke_allowed = {
			always = no
		}
		ai_will_do = {
			factor = 10000
		}
	}
	
	ask_help_to_manage_titles = {
	 	is_high_prio = yes

		potential = {
			is_ruler = yes
			
			OR = {
				job_chancellor = {
					ai = no
				}
				ai = no
			}
			
			over_max_demesne_size = 4
			OR = {
				NOT = { has_character_flag = has_been_proposed_about_titles }
				had_character_flag = { flag = has_been_proposed_about_titles days = 14 }
			}
			OR = {
				NOT = { has_character_flag = refused_any_help_with_titles }
				had_character_flag = { flag = refused_any_help_with_titles days = 712 }
			}
			NOT = { has_character_flag = getting_help_with_titles }
		}
		allow = {
			over_max_demesne_size = 4
			custom_tooltip = {
				text = HAS_CHANCELLOR
				hidden_tooltip = {
					job_chancellor = {
						is_alive = yes
					}
				}
			}
		}
		effect = {
			set_character_flag = getting_help_with_titles
			job_chancellor = {
				character_event = { id = 108010 }
				character_event = { id = 108005 }
			}
		}
		revoke_allowed = {
			always = no
		}
		ai_will_do = {
			factor = 10000
		}
	}
	
		employ_priest = {
		potential = {
			ai = no
		}
		allow = {
			piety = 5
		}
		effect = {
			piety = -5
			create_random_priest = {
				random_traits = yes
				dynasty = random
				female = no
			}
			new_character = {
			}
		}
		revoke_allowed = {
			always = no
		}
		ai_will_do = {
			factor = 0
		}
	}
	
	employ_steward = {
		potential = {
			ai = no
		}
		allow = {
			scaled_wealth = 0.2
		}
		effect = {
			scaled_wealth = -0.2
			create_random_steward = {
				random_traits = yes
				dynasty = random
				female = no
			}
			new_character = {
			}
		}
		revoke_allowed = {
			always = no
		}
		ai_will_do = {
			factor = 0
		}
	}
	
	present_debutante = {
		potential = {
			ai = no
		}
		allow = {
			scaled_wealth = 0.2
		}
		effect = {
			scaled_wealth = -0.2
			create_character = {
				random_traits = yes
				dynasty = random
				female = yes
				age = 17
			}
			new_character = {
				set_character_flag = debutante
			}
		}
		revoke_allowed = {
			always = no
		}
		ai_will_do = {
			factor = 0
		}
	}
}

#################################
###MINOR DECISIONS
#################################
feast_0 = {
		potential = {
			is_ruler = yes
			OR = {
				is_feudal = yes
				is_tribal = yes
			}
			prisoner = no
			OR = {
				#religion_group = christian
				#religion_group = zoroastrian_group
				#religion_group = jewish_group
			}
			NOT = {
				has_character_modifier = holding_large_feast
			}
			NOT = {
				has_character_modifier = large_feast_timer
			}
			NOT = {
				has_character_modifier = fabulous_feast
			}
			NOT = {
				has_character_flag = guest_feast_started
			}
			NOT = {
				liege = {
					has_character_modifier = holding_large_feast
				}
			}			
			num_of_vassals = 1
			NOT = { has_character_flag = do_not_disturb }
		}
		allow = {
			war = no
			any_demesne_title = {
				is_occupied = no
			}
			prisoner = no
			NOT = { trait = in_hiding }
			wealth = 25
			month = 10
			prestige = 100
		}
		effect = {
			wealth = -25
			add_character_modifier = {
				name = holding_large_feast
				duration = -1
			}
			set_character_flag = recent_minor_decision
			set_character_flag = do_not_disturb
			hidden_tooltip = { character_event = { id = 72999 days = 150 } } # Safety catch flag clearing
			
			hidden_tooltip = {
				character_event = {
					id = 72003
					days = 25
					random = 10
				}
				
				letter_event = { 
					id = 72109  
				}
			}
		}
		revoke_allowed = {
			always = no
		}
		ai_will_do = {
			factor = 1
			
			modifier = {
				factor = 0
				NOT = {
					wealth = 200
				}
			}
			modifier = {
				factor = 0
				trait = shy
			}
			modifier = {
				factor = 0
				NOT = { diplomacy = 10 }
			}	
			modifier = {
				factor = 0
				has_character_flag = recent_minor_decision
				NOT = {
					had_character_flag = {
						flag = recent_minor_decision
						days = 730
					}
				}
			}
		}
	}
	
	summer_fair = {
		potential = {
			is_ruler = yes
			#religion_group = christian
			prisoner = no
			NOT = {
				has_character_modifier = holding_summer_fair
			}
			NOT = {
				has_character_modifier = summer_fair_timer
			}
			num_of_vassals = 1
			NOT = { has_character_flag = do_not_disturb }
			OR = {
				NOT = { has_character_flag = recent_summer_fair }
				had_character_flag = {
					flag = recent_summer_fair
					days = 60
				}
			}
		}
		allow = {
			war = no
			any_demesne_title = {
				is_occupied = no
			}
			wealth = 25
			prisoner = no
			NOT = { trait = in_hiding }
			month = 4
			NOT = {
				month = 7
			}
		}
		effect = {
			wealth = -25
			add_character_modifier = {
				name = holding_summer_fair
				duration = -1
			}
			set_character_flag = recent_minor_decision
			set_character_flag = do_not_disturb
			hidden_tooltip = {
				character_event = {
					id = 74047
					days = 60
				}
				character_event = { id = 74050  }
			}
		}
		revoke_allowed = {
			always = no
		}
		ai_will_do = {
			factor = 1
			
			modifier = {
				factor = 0
				NOT = {
					wealth = 200
				}
			}

			modifier = {
				factor = 0
				trait = slothful
			}	
			
			modifier = {
				factor = 0
				NOT = { stewardship = 10 }
			}
			
			modifier = {
				factor = 0
				has_character_flag = recent_minor_decision
				NOT = {
					had_character_flag = {
						flag = recent_minor_decision
						days = 730
					}
				}
			}			
			
		}
	}
	
	hold_grand_hunt = {
		potential = {
			is_ruler = yes
			age = 16
			is_female = no
			prisoner = no
			OR = {
				religion_group = christian
				religion_group = pagan_group
			}
			NOT = {
				OR = {
					#has_landed_title = e_mongol_empire
					#has_landed_title = e_golden_horde
					#has_landed_title = e_il-khanate
				}
			}
			NOT = {	has_character_modifier = holding_grand_hunt }
			NOT = { has_character_flag = do_not_disturb }
			OR = {
				NOT = { has_dlc = "Way of Life" }
				has_focus = focus_hunting
			}
		}
		allow = {
			war = no
			any_demesne_title = {
				is_occupied = no
			}
			month = 8
			wealth = 25
			NOT = { month = 10 }
			NOT = {	health_traits = 1 }
			prisoner = no
			NOT = { trait = in_hiding }
		}
		effect = {
			wealth = -25
			add_character_modifier = {
				name = holding_grand_hunt
				duration = -1
			}			
			set_character_flag = recent_minor_decision
			set_character_flag = do_not_disturb
			hidden_tooltip = { character_event = { id = 36999 days = 150 } } # Safety catch flag clearing
			hidden_tooltip = { 
				character_event = { id = 36090 days = 60 }
				letter_event = { id = 36080  }
			}
		}
		revoke_allowed = {
			always = no
		}
		ai_will_do = {
			factor = 1
			
			modifier = {
				factor = 0
				NOT = { wealth = 50 }
			}
			modifier = {
				factor = 0
				NOT = { wealth = 200 }
				NOT = { has_focus = focus_hunting }
			}
			modifier = {
				factor = 0
				trait = craven
			}			
			modifier = {
				factor = 0
				NOT = {
					martial = 10
				}
			}
			modifier = {
				factor = 0
				has_character_flag = recent_minor_decision
				NOT = {
					had_character_flag = {
						flag = recent_minor_decision
						days = 730
					}
				}
			}
		}
	}
	
	hold_tiger_hunt = {
		potential = {
			#has_dlc = "Rajas of India"
			is_ruler = yes
			age = 16
			prisoner = no
			num_of_vassals = 1
			capital_scope = {
				OR = {
					#empire = { title = e_rajastan }
					#empire = { title = e_bengal }
					#empire = { title = e_deccan }
					#empire = { title = e_india }
				}
			}
			NOT = { has_character_flag = do_not_disturb }
			NOT = { has_character_flag = holding_tiger_hunt }
			NOT = { has_character_modifier = hunt_timer }
		}
		allow = {
			war = no
			any_demesne_title = {
				is_occupied = no
			}
			NOT = { month = 10 }
			wealth = 25
			NOT = {	trait = incapable }
			NOT = { trait = in_hiding }
			prisoner = no
			NOT = { religion = jain }
		}
		effect = {
			wealth = -25
			set_character_flag = holding_tiger_hunt
			set_character_flag = recent_minor_decision
			set_character_flag = do_not_disturb
			hidden_tooltip = { character_event = { id = RoI.2000 } }
		}
		revoke_allowed = {
			always = no
		}
		ai_will_do = {
			factor = 1
			
			modifier = {
				factor = 0
				NOT = { wealth = 50 }
			}
			modifier = {
				factor = 0
				NOT = { wealth = 200 }
				NOT = { has_focus = focus_hunting }
			}
			modifier = {
				factor = 0
				NOT = { martial = 10 }
				NOT = { has_focus = focus_hunting }
			}
			modifier = {
				factor = 0
				has_character_flag = recent_minor_decision
				NOT = {
					had_character_flag = {
						flag = recent_minor_decision
						days = 730
					}
				}
			}				
		}
	}
	
	choose_hindu_patron_deity = {
		potential = {
			#has_dlc = "Rajas of India"
			is_playable = yes
			age = 16
			not = { trait = incapable }
			#religion = hindu
			NOT = {
				has_character_modifier = patron_shiva
				has_character_modifier = patron_vishnu
				has_character_modifier = patron_brahma
				has_character_modifier = patron_kali
				has_character_modifier = patron_ganesha
				has_character_modifier = patron_ganga
			}
		}
		allow = {
			prisoner = no
		}
		effect = {
			character_event = { id = RoI.100 }
		}
		revoke_allowed = {
			always = no
		}
		ai_will_do = {
			factor = 0.01
			modifier = {
				factor = 5
				trait = zealous
			}
			modifier = {
				factor = 0.5
				trait = cynical
			}
		}
	}
	
	catholic_pilgrimage = {        # For all Christians
		potential = {
			#has_dlc = "Sons of Abraham"
			OR = {
				NOT = { has_dlc = "Way of Life" }
				has_focus = focus_theology
			}
			is_ruler = yes
			#religion_group = christian
			NOT = { trait = pilgrim }
			NOT = { has_character_flag = do_not_disturb }
		}
		allow = {
			war = no
			in_command = no
			any_demesne_title = {
				is_occupied = no
			}
			prisoner = no
			NOT = { trait = in_hiding }
			scaled_wealth = 0.2
			age = 16
			custom_tooltip = {
				text = health_travel_condition
				hidden_tooltip = {
					NOT = {	trait = pregnant }
					NOT = {	trait = incapable }
					NOT = {	trait = blinded }
					NOT = {	trait = has_tuberculosis }
					NOT = {	trait = has_typhoid_fever }
					NOT = {	trait = has_typhus }
					NOT = {	trait = has_bubonic_plague }
					NOT = {	trait = has_measles }
					NOT = {	trait = has_small_pox }
					NOT = {	trait = has_aztec_disease }
				}
			}
		}
		effect = {
			scaled_wealth = -0.2
			set_character_flag = activated_pilgrimage
			set_character_flag = do_not_disturb
			hidden_tooltip = {
				character_event = { 
					id = SoA.5000
				}
			}
		}
		revoke_allowed = {
			always = no
		}
		ai_will_do = {
			factor = 1
			
			modifier = {
				factor = 0.001             # Only a small minority of Christians ever go on a pilgrimage
			}
			modifier = {
				factor = 3
				trait = zealous
			}
			modifier = {
				factor = 0
				NOT = { wealth = 200 }
			}			
			modifier = {
				factor = 0
				NOT = { age = 30 }
			}
		}
	}

	go_on_hajj = {
		is_high_prio = yes
		potential = {
			is_female = no
			is_ruler = yes
			#religion_group = muslim
			NOT = { trait = hajjaj }
			NOT = { trait = on_hajj }
			NOT = {	has_character_flag = preparing_hajj }
			NOT = {	has_character_flag = ramadan }
			NOT = {	has_character_flag = activated_hajj }
			NOT = {	has_character_flag = do_not_disturb }
		}
		allow = {
			war = no
			in_command = no
			any_demesne_title = {
				is_occupied = no
			}
			prisoner = no
			NOT = { trait = in_hiding }
			scaled_wealth = 0.2
			age = 16
			custom_tooltip = {
				text = health_travel_condition
				hidden_tooltip = {
					NOT = {	trait = incapable }
					NOT = {	trait = blinded }
					NOT = {	trait = has_tuberculosis }
					NOT = {	trait = has_typhoid_fever }
					NOT = {	trait = has_typhus }
					NOT = {	trait = has_bubonic_plague }
					NOT = {	trait = has_measles }
					NOT = {	trait = has_small_pox }
					NOT = {	trait = has_aztec_disease }
				}
			}
		}
		effect = {
			scaled_wealth = -0.2
			clr_character_flag = promise_hajj
			set_character_flag = activated_hajj
			set_character_flag = recent_minor_decision
			set_character_flag = do_not_disturb
			
			if = {
				limit = {
					trait = decadent
				}
				remove_trait = decadent
			}

			hidden_tooltip = {
				letter_event = { 
					id = 86000
				}
			}
		}
		revoke_allowed = {
			always = no
		}
		ai_will_do = {
			factor = 1
			
			modifier = {
				factor = 0
				trait = cynical
			}
			modifier = {
				factor = 0
				is_ruler = no
				trait = decadent
			}
			modifier = {
				factor = 2
				is_ruler = yes
				trait = decadent
			}
			modifier = {
				factor = 0
				NOT = { wealth = 300 }
			}
			modifier = { # Monthly randomizer for when AI takes decision (1% chance)
				factor = 0
				random = 1
			}
			modifier = {
				factor = 0
				NOT = { age = 30 }
			}
		}
	}
	
	observe_ramadan = {
		potential = {
			ai = no
			is_ruler = yes
			prisoner = no
			is_adult = yes
			#religion_group = muslim
			NOT = { 
				has_character_flag = ramadan
				has_character_modifier = observed_ramadan
				trait = on_hajj
				trait = incapable
			}
		}
		allow = {
			war = no
			prisoner = no
			NOT = { trait = in_hiding }
			wealth = 100
		}
		effect = {
			character_event = { id = 88500 tooltip = "begin_fast" }
			set_character_flag = ramadan
			decadence = -3
			piety = 15
			wealth = -100
			add_character_modifier = {
				name = observed_ramadan
				duration = 1900
				hidden = no
			}
		}
		revoke_allowed = {
			always = no
		}
		ai_will_do = {
			factor = 0
		}
	}
	
	commission_runestone = {
		potential = {
			#has_dlc = "The Old Gods"
			is_ruler = yes
			age = 16
			prisoner = no
			#culture_group = north_germanic
			NOT = {	has_character_flag = commissioned_runestone }
			NOT = { year = 1150 }
		}
		allow = {
			wealth = 100
			prisoner = no
		}
		effect = {
			wealth = -100
			set_character_flag = commissioned_runestone
			hidden_tooltip = { 
				character_event = { id = TOG.500 }
			}
		}
		revoke_allowed = {
			always = no
		}
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				NOT = { wealth = 300 }
			}
			modifier = {
				factor = 0
				NOT = { age = 30 }
			}			
		}
	}
	
	hold_nerge = {
		is_high_prio = yes
		potential = {
			#has_dlc = "The Old Gods"
			is_ruler = yes
			age = 16
			is_female = no
			prisoner = no
			#culture = mongol
			OR = {
				#has_landed_title = e_il-khanate
				#has_landed_title = e_golden_horde
				#has_landed_title = e_mongol_empire
			}
			NOT = { has_character_modifier = morale_from_nerge }
			NOT = {	has_character_flag = holding_nerge }
			NOT = {	has_character_flag = do_not_disturb }
		}
		allow = {
			war = no
			any_demesne_title = {
				is_occupied = no
			}
			month = 8
			wealth = 50
			NOT = { month = 10 }
			prisoner = no
			NOT = { trait = in_hiding }
		}
		effect = {
			wealth = -50
			set_character_flag = holding_nerge
			set_character_flag = recent_minor_decision
			set_character_flag = do_not_disturb
			hidden_tooltip = { character_event = { id = TOG.299 days = 150 } } # Safety catch flag clearing
			custom_tooltip = {
				text = prepare_nerge
				hidden_tooltip = { 
					character_event = { id = TOG.100 } 
				}
			}
		}
		revoke_allowed = {
			always = no
		}
		ai_will_do = {
			factor = 1
			
			modifier = {
				factor = 0
				NOT = {
					wealth = 300
				}
			}
			modifier = {
				factor = 0
				trait = craven
			}
			modifier = {
				factor = 0
				NOT = { martial = 10 }
			}	
			modifier = {
				factor = 0
				has_character_flag = recent_minor_decision
				NOT = {
					had_character_flag = {
						flag = recent_minor_decision
						days = 730
					}
				}
			}
		}
	}	
	
	hold_blot = {
		is_high_prio = yes
		potential = {
			#has_dlc = "The Old Gods"
			is_ruler = yes
			age = 16
			prisoner = no
			OR = {
				#religion = norse_pagan
				#religion = norse_pagan_reformed
			}
			NOT = { has_character_modifier = held_blot_timer }
			NOT = {	has_character_flag = holding_blot }
			NOT = {	has_character_flag = do_not_disturb }
		}
		allow = {
			war = no
			any_demesne_title = {
				is_occupied = no
			}
			OR = {
				NOT = { month = 2 }
				month = 10
			}
			wealth = 50
			prisoner = no
			NOT = { trait = in_hiding }
		}
		effect = {
			wealth = -50
			set_character_flag = holding_blot
			set_character_flag = recent_minor_decision
			set_character_flag = do_not_disturb
			hidden_tooltip = { character_event = { id = TOG.699 days = 150 } } # Safety catch flag clearing
			custom_tooltip = {
				text = prepare_blot
				hidden_tooltip = { 
					character_event = { id = TOG.600 } 
				}
			}
		}
		revoke_allowed = {
			always = no
		}
		ai_will_do = {
			factor = 1
			
			modifier = {
				factor = 0
				NOT = {
					wealth = 300
				}
			}
			modifier = {
				factor = 0
				trait = shy
			}
			modifier = {
				factor = 0
				NOT = { diplomacy = 10 }
			}	
			modifier = {
				factor = 0
				has_character_flag = recent_minor_decision
				NOT = {
					had_character_flag = {
						flag = recent_minor_decision
						days = 730
					}
				}
			}
		}
	}	
	
	hold_ukon_juhla = {
		potential = {
			#has_dlc = "The Old Gods"
			is_ruler = yes
			age = 16
			prisoner = no
			OR = {
				#religion = finnish_pagan
				#religion = finnish_pagan_reformed
			}
			NOT = { has_character_modifier = held_ukon_juhla_timer }
			NOT = {	has_character_flag = holding_ukon_juhla }
			NOT = {	has_character_flag = do_not_disturb }
		}
		allow = {
			war = no
			any_demesne_title = {
				is_occupied = no
			}
			AND = {
				NOT = { month = 7 }
				month = 4
			}
			wealth = 50
			prisoner = no
			NOT = { trait = in_hiding }
		}
		effect = {
			wealth = -50
			set_character_flag = holding_ukon_juhla
			set_character_flag = recent_minor_decision
			set_character_flag = do_not_disturb
			hidden_tooltip = { character_event = { id = TOG.899 days = 150 } } # Safety catch flag clearing
			custom_tooltip = {
				text = prepare_ukon_juhla
				hidden_tooltip = { 
					character_event = { id = TOG.700 } 
				}
			}
		}
		revoke_allowed = {
			always = no
		}
		ai_will_do = {
			factor = 1
			
			modifier = {
				factor = 0
				NOT = {
					wealth = 300
				}
			}
			modifier = {
				factor = 0
				trait = shy
			}
			modifier = {
				factor = 0
				NOT = { diplomacy = 10 }
			}	
			modifier = {
				factor = 0
				has_character_flag = recent_minor_decision
				NOT = {
					had_character_flag = {
						flag = recent_minor_decision
						days = 730
					}
				}
			}
		}
	}
	
	hold_uzgavenes = {
		potential = {
			#has_dlc = "The Old Gods"
			is_ruler = yes
			age = 16
			prisoner = no
			OR = {
				#religion = baltic_pagan
				#religion = baltic_pagan_reformed
			}
			NOT = { has_character_modifier = held_uzgavenes_timer }
			NOT = {	has_character_flag = holding_uzgavenes }
			NOT = {	has_character_flag = do_not_disturb }
		}
		allow = {
			war = no
			any_demesne_title = {
				is_occupied = no
			}
			AND = {
				NOT = { month = 7 }
				month = 4
			}
			wealth = 50
			prisoner = no
			NOT = { trait = in_hiding }
		}
		effect = {
			wealth = -50
			set_character_flag = holding_uzgavenes
			set_character_flag = recent_minor_decision
			set_character_flag = do_not_disturb
			hidden_tooltip = { character_event = { id = TOG.899 days = 150 } } # Safety catch flag clearing
			custom_tooltip = {
				text = prepare_uzgavenes
				hidden_tooltip = { 
					character_event = { id = TOG.750 } 
				}
			}
		}
		revoke_allowed = {
			always = no
		}
		ai_will_do = {
			factor = 1
			
			modifier = {
				factor = 0
				NOT = {
					wealth = 300
				}
			}
			modifier = {
				factor = 0
				trait = shy
			}
			modifier = {
				factor = 0
				NOT = { diplomacy = 10 }
			}	
			modifier = {
				factor = 0
				has_character_flag = recent_minor_decision
				NOT = {
					had_character_flag = {
						flag = recent_minor_decision
						days = 730
					}
				}
			}
		}
	}
	
	hold_jarilo = {
		potential = {
			#has_dlc = "The Old Gods"
			is_ruler = yes
			age = 16
			prisoner = no
			OR = {
				#religion = slavic_pagan
				#religion = slavic_pagan_reformed
			}
			NOT = { has_character_modifier = held_jarilo_timer }
			NOT = {	has_character_flag = holding_jarilo }
			NOT = {	has_character_flag = do_not_disturb }
		}
		allow = {
			war = no
			any_demesne_title = {
				is_occupied = no
			}
			AND = {
				NOT = { month = 7 }
				month = 4
			}
			wealth = 50
			prisoner = no
			NOT = { trait = in_hiding }
		}
		effect = {
			wealth = -50
			set_character_flag = holding_jarilo
			set_character_flag = recent_minor_decision
			set_character_flag = do_not_disturb
			hidden_tooltip = { character_event = { id = TOG.899 days = 150 } } # Safety catch flag clearing
			custom_tooltip = {
				text = prepare_jarilo
				hidden_tooltip = { 
					character_event = { id = TOG.800 } 
				}
			}
		}
		revoke_allowed = {
			always = no
		}
		ai_will_do = {
			factor = 1
			
			modifier = {
				factor = 0
				NOT = {
					wealth = 300
				}
			}
			modifier = {
				factor = 0
				trait = shy
			}
			modifier = {
				factor = 0
				NOT = { diplomacy = 10 }
			}	
			modifier = {
				factor = 0
				has_character_flag = recent_minor_decision
				NOT = {
					had_character_flag = {
						flag = recent_minor_decision
						days = 730
					}
				}
			}
		}
	}
	
	celebrate_passover = {
		is_high_prio = yes
		potential = {
			#has_dlc = "Sons of Abraham"
			is_ruler = yes
			age = 16
			prisoner = no
			#religion_group = jewish_group
			NOT = { has_character_modifier = held_passover_timer }
			NOT = {	has_character_flag = holding_passover }
			NOT = {	has_character_flag = do_not_disturb }
		}
		allow = {
			war = no
			any_demesne_title = {
				is_occupied = no
			}
			AND = {
				NOT = { month = 6 }
				month = 3
			}
			wealth = 50
			prisoner = no
			NOT = { trait = in_hiding }
		}
		effect = {
			wealth = -50
			set_character_flag = holding_passover
			set_character_flag = recent_minor_decision
			set_character_flag = do_not_disturb
			hidden_tooltip = { character_event = { id = SoA.599 days = 150 } } # Safety catch flag clearing
			custom_tooltip = {
				text = passover_celebrations
				hidden_tooltip = { 
					character_event = { id = SoA.500 } 
				}
			}
		}
		revoke_allowed = {
			always = no
		}
		ai_will_do = {
			factor = 1
			
			modifier = {
				factor = 0
				NOT = {
					wealth = 300
				}
			}
			modifier = {
				factor = 0
				trait = shy
			}
			modifier = {
				factor = 0
				NOT = { diplomacy = 10 }
			}	
			modifier = {
				factor = 0
				has_character_flag = recent_minor_decision
				NOT = {
					had_character_flag = {
						flag = recent_minor_decision
						days = 730
					}
				}
			}
		}
	}	
	
	borrow_money_jews = {
		potential = {
			OR = {
				#religion_group = christian
				#religion_group = muslim
				#religion_group = zoroastrian_group
			}	
			NOT = { 
				#religion_group = jewish_group
				has_character_modifier = expelled_jewish
				top_liege = { has_character_modifier = expelled_jewish }
			}
			NOT = { has_character_modifier = borrowed_from_jews }
			#has_dlc = "Sons of Abraham"
			is_playable = yes
			prisoner = no
		}
		
		allow = {
		}
		
		effect = {
			add_character_modifier = {
				name = borrowed_from_jews
				duration = -1
				inherit = yes
			}
			wealth = 300
		}
		
		revoke_allowed = {
			always = no
		}
		
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				wealth = 0
				war = no
			}
			modifier = {
				factor = 0
				wealth = 200
				war = yes
			}			
			modifier = {
				factor = 0.01 # Slow it down
			}
		}
	}
	repay_money_jews = {
		potential = {	
			NOT = { 
				has_character_modifier = expelled_jewish
			}
			has_character_modifier = borrowed_from_jews
			#has_dlc = "Sons of Abraham"
		}
		
		allow = {
			wealth = 350
		}
		
		effect = {
			remove_character_modifier = borrowed_from_jews
			wealth = -350
		}
		
		revoke_allowed = {
			always = no
		}
		
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				NOT = { wealth = 450 }
			}
			modifier = {
				factor = 0.1 # Slow it down
			}
		}
	}

	become_kshatriya = {
		is_high_prio = yes
		potential = {
			is_ruler = yes
			is_adult = yes
			#religion = hindu
			OR = {
				is_feudal = yes
				is_tribal = yes
			}
			#has_dlc = "Rajas of India"
			NOT = { trait = kshatriya }
		}
		
		allow = {
			OR = {
				trait = brahmin
				piety = 200
			}
			OR = {
				scaled_wealth = 6
				AND = {
					learning = 12
					scaled_wealth = 3
				}
			}
		}

		effect = {
			if = {
				limit = { learning = 12 }
				scaled_wealth = -3
			}
			if = {
				limit = { NOT = { learning = 12 } }
				scaled_wealth = -6
			}
			if = {
				limit = { NOT = { trait = brahmin } }
				piety = -200
			}
			
			prestige = 50
			add_trait = kshatriya
			any_spouse = {
				limit = {
					is_ruler = no
					liege = { character = ROOT }
					NOT = { trait = kshatriya }
				}
				add_trait = kshatriya
			}
			any_child = {
				limit = {
					is_ruler = no
					liege = { character = ROOT }
					NOT = { trait = kshatriya }
				}
				add_trait = kshatriya
			}
			hidden_tooltip = {
				top_liege = {
					any_realm_character = {
						limit = {
							religion = hindu
							is_adult = yes
							NOT = { character = ROOT }
							NOT = { trait = cynical }
						}
						opinion = {
							modifier = opinion_changed_caste
							who = ROOT
							years = 100
						}
					}
				}
			}
			if = {
				limit = {
					ai = no
				}
				chronicle = {
					entry = CHRONICLE_BECAME_KSHATRIYA
					picture = GFX_evt_emissary_indo_aryan_group
				}
			}
		}
		
		revoke_allowed = {
			always = no
		}
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0.1
			}
		}
	}

	hold_diwali_feast_hindu = {
		potential = {
			#has_dlc = "Rajas of India"
			is_ruler = yes
			OR = {
				is_feudal = yes
				is_tribal = yes
			}
			prisoner = no
			#religion = hindu
			NOT = { trait = incapable }
			NOT = { has_character_modifier = patron_kali }
			NOT = {
				has_character_modifier = holding_diwali_feast
			}
			NOT = {
				has_character_modifier = holding_kali_puja_feast
			}
			NOT = {
				has_character_modifier = large_feast_timer
			}
			NOT = {
				has_character_modifier = fabulous_feast
			}
			NOT = {
				has_character_flag = guest_diwali_feast_started
			}
			NOT = {
				liege = {
					has_character_modifier = holding_diwali_feast
					has_character_modifier = holding_kali_puja_feast
				}
			}
			num_of_vassals = 1
			NOT = { has_character_flag = do_not_disturb }
		}
		allow = {
			war = no
			any_demesne_title = {
				is_occupied = no
			}
			prisoner = no
			NOT = { trait = in_hiding }
			scaled_wealth = 0.2
			month = 9
			prestige = 100
		}
		effect = {
			scaled_wealth = -0.2
			add_character_modifier = {
				name = holding_diwali_feast
				duration = 365
			}
			set_character_flag = recent_minor_decision
			set_character_flag = do_not_disturb
			hidden_tooltip = { character_event = { id = RoI.1000 } }
		}
		revoke_allowed = {
			always = no
		}
		ai_will_do = {
			factor = 0.1
			modifier = {
				factor = 0
				NOT = {
					scaled_wealth = 2
				}
			}
			modifier = {
				factor = 0.5
				trait = shy
			}
			modifier = {
				factor = 0.5
				NOT = { diplomacy = 10 }
			}	
			modifier = {
				factor = 0
				has_character_flag = recent_minor_decision
				NOT = {
					had_character_flag = {
						flag = recent_minor_decision
						days = 730
					}
				}
			}	
			modifier = {
				factor = 0
				NOT = { age = 30 }
			}			
		}
	}

	hold_diwali_feast_buddhist = {
		potential = {
			#has_dlc = "Rajas of India"
			is_ruler = yes
			OR = {
				is_feudal = yes
				is_tribal = yes
			}
			prisoner = no
			#religion = buddhist
			NOT = { trait = incapable }
			NOT = {
				has_character_modifier = holding_diwali_feast
			}
			NOT = {
				has_character_modifier = holding_kali_puja_feast
			}
			NOT = {
				has_character_modifier = large_feast_timer
			}
			NOT = {
				has_character_modifier = fabulous_feast
			}
			NOT = {
				has_character_flag = guest_diwali_feast_started
			}
			NOT = {
				liege = {
					has_character_modifier = holding_diwali_feast
					has_character_modifier = holding_kali_puja_feast
				}
			}		
			num_of_vassals = 1
			NOT = { has_character_flag = do_not_disturb }
		}
		allow = {
			war = no
			any_demesne_title = {
				is_occupied = no
			}
			prisoner = no
			NOT = { trait = in_hiding }
			scaled_wealth = 0.2
			month = 9
			prestige = 100
		}
		effect = {
			scaled_wealth = -0.2
			add_character_modifier = {
				name = holding_diwali_feast
				duration = 365
			}
			set_character_flag = recent_minor_decision
			set_character_flag = do_not_disturb
			
			hidden_tooltip = { character_event = { id = RoI.1000 } }
		}
		revoke_allowed = {
			always = no
		}
		ai_will_do = {
			factor = 0.1
			
			modifier = {
				factor = 0
				NOT = {
					scaled_wealth = 2
				}
			}
			modifier = {
				factor = 0.5
				trait = shy
			}
			modifier = {
				factor = 0.5
				NOT = { diplomacy = 10 }
			}	
			modifier = {
				factor = 0
				has_character_flag = recent_minor_decision
				NOT = {
					had_character_flag = {
						flag = recent_minor_decision
						days = 730
					}
				}
			}
			modifier = {
				factor = 0
				NOT = { age = 30 }
			}
		}
	}

	hold_diwali_feast_jain = {
		potential = {
			#has_dlc = "Rajas of India"
			is_ruler = yes
			OR = {
				is_feudal = yes
				is_tribal = yes
			}
			prisoner = no
			#religion = jain
			NOT = { trait = incapable }
			NOT = {
				has_character_modifier = holding_diwali_feast
			}
			NOT = {
				has_character_modifier = holding_kali_puja_feast
			}
			NOT = {
				has_character_modifier = large_feast_timer
			}
			NOT = {
				has_character_modifier = fabulous_feast
			}
			NOT = {
				has_character_flag = guest_diwali_feast_started
			}
			NOT = {
				liege = {
					has_character_modifier = holding_diwali_feast
					has_character_modifier = holding_kali_puja_feast
				}
			}			
			num_of_vassals = 1
			NOT = { has_character_flag = do_not_disturb }
		}
		allow = {
			war = no
			any_demesne_title = {
				is_occupied = no
			}
			prisoner = no
			NOT = { trait = in_hiding }
			scaled_wealth = 0.2
			month = 9
			prestige = 100
		}
		effect = {
			scaled_wealth = -0.2
			add_character_modifier = {
				name = holding_diwali_feast
				duration = 365
			}
			set_character_flag = recent_minor_decision
			set_character_flag = do_not_disturb
			
			hidden_tooltip = { character_event = { id = RoI.1000 } }
		}
		revoke_allowed = {
			always = no
		}
		ai_will_do = {
			factor = 0.1
			
			modifier = {
				factor = 0
				NOT = {
					scaled_wealth = 2
				}
			}
			modifier = {
				factor = 0.5
				trait = shy
			}
			modifier = {
				factor = 0.5
				NOT = { diplomacy = 10 }
			}	
			modifier = {
				factor = 0
				has_character_flag = recent_minor_decision
				NOT = {
					had_character_flag = {
						flag = recent_minor_decision
						days = 730
					}
				}
			}
			modifier = {
				factor = 0
				NOT = { age = 30 }
			}
		}
	}

	hold_diwali_feast_kali_puja = {
		potential = {
			#has_dlc = "Rajas of India"
			is_ruler = yes
			OR = {
				is_feudal = yes
				is_tribal = yes
			}
			prisoner = no
			#religion = hindu
			NOT = { trait = incapable }
			OR = {
				#has_character_modifier = patron_kali
				#capital_scope = { kingdom = { title = k_bengal } }
				#capital_scope = { kingdom = { title = k_kamarupa } }
				#capital_scope = { kingdom = { title = k_orissa } }
				#capital_scope = { kingdom = { title = k_bihar } }
			}
			NOT = {
				has_character_modifier = holding_diwali_feast
			}
			NOT = {
				has_character_modifier = holding_kali_puja_feast
			}
			NOT = {
				has_character_modifier = large_feast_timer
			}
			NOT = {
				has_character_modifier = fabulous_feast
			}
			NOT = {
				has_character_flag = guest_diwali_feast_started
			}
			NOT = {
				liege = {
					has_character_modifier = holding_diwali_feast
					has_character_modifier = holding_kali_puja_feast
				}
			}			
			num_of_vassals = 1
			NOT = { has_character_flag = do_not_disturb }
		}
		allow = {
			war = no
			any_demesne_title = {
				is_occupied = no
			}
			prisoner = no
			NOT = { trait = in_hiding }
			scaled_wealth = 0.2
			month = 9
			prestige = 100
		}
		effect = {
			scaled_wealth = -0.2
			add_character_modifier = {
				name = holding_kali_puja_feast
				duration = 365
			}
			set_character_flag = recent_minor_decision
			set_character_flag = do_not_disturb
			hidden_tooltip = { character_event = { id = RoI.1000 } }
		}
		revoke_allowed = {
			always = no
		}
		ai_will_do = {
			factor = 0.1
			
			modifier = {
				factor = 0
				NOT = {
					scaled_wealth = 2
				}
			}
			modifier = {
				factor = 0.5
				trait = shy
			}
			modifier = {
				factor = 0.5
				NOT = { diplomacy = 10 }
			}	
			modifier = {
				factor = 0
				has_character_flag = recent_minor_decision
				NOT = {
					had_character_flag = {
						flag = recent_minor_decision
						days = 730
					}
				}
			}
			modifier = {
				factor = 0
				NOT = { age = 30 }
			}		
		}
	}

	find_guru = {
		potential = {
			age = 16
			is_ruler = yes
			OR = {
				is_feudal = yes
				is_tribal = yes
			}
			prisoner = no
			#religion_group = indian_group
			NOT = { has_character_flag = looking_for_guru }
			NOT = { has_character_flag = found_guru }
			NOT = {
				any_courtier = {
					has_minor_title = title_guru
				}
			}
		}
		allow = {
			prisoner = no
			wealth = 50
			prestige = 300
		}
		effect = {
			wealth = -50
			set_character_flag = looking_for_guru
			character_event = { id = RoI.3000 }
		}
		revoke_allowed = {
			always = no
		}
		ai_will_do = {
			factor = 1
			
			modifier = {
				factor = 0
				trait = cynical
			}
			modifier = {
				factor = 0
				NOT = { wealth = 200 }
			}
		}
	}
	
	hold_zun_feast = {
		potential = {
			has_dlc = "Charlemagne"
			is_ruler = yes
			OR = {
				is_feudal = yes
				is_tribal = yes
			}
			prisoner = no
			OR = {
				#eligion = zun_pagan
				#religion = zun_pagan_reformed
			}
			NOT = { trait = incapable }
			num_of_vassals = 1
			NOT = {
				has_character_modifier = holding_zun_feast
			}
			NOT = {
				has_character_modifier = holding_diwali_feast
			}
			NOT = {
				has_character_modifier = holding_kali_puja_feast
			}
			NOT = {
				has_character_modifier = large_feast_timer
			}
			NOT = {
				has_character_modifier = fabulous_feast
			}
			NOT = {
				has_character_flag = guest_zun_feast_started
			}
			NOT = {
				liege = { has_character_modifier = holding_zun_feast }
			}
			NOT = { has_character_flag = do_not_disturb }
		}
		allow = {
			war = no
			any_demesne_title = {
				is_occupied = no
			}
			prisoner = no
			NOT = { trait = in_hiding }
			scaled_wealth = 0.2
			month = 3
			NOT = { month = 9 }
			prestige = 100
		}
		effect = {
			scaled_wealth = -0.2
			add_character_modifier = {
				name = holding_zun_feast
				duration = 365
			}
			set_character_flag = recent_minor_decision
			set_character_flag = do_not_disturb
			hidden_tooltip = { character_event = { id = CM.4100 } }
		}
		revoke_allowed = {
			always = no
		}
		ai_will_do = {
			factor = 0.1
			modifier = {
				factor = 0
				NOT = {
					scaled_wealth = 2
				}
			}
			modifier = {
				factor = 0.5
				trait = shy
			}
			modifier = {
				factor = 0.5
				NOT = { diplomacy = 10 }
			}	
			modifier = {
				factor = 0
				has_character_flag = recent_minor_decision
				NOT = {
					had_character_flag = {
						flag = recent_minor_decision
						days = 730
					}
				}
			}	
			modifier = {
				factor = 0
				NOT = { age = 30 }
			}			
		}
	}
	
	# Build an observatory (learning focus)
	build_observatory = {
		potential = {
			is_ruler = yes
			has_focus = focus_scholarship
			NOT = { trait = incapable }
			NOT = { trait = scholar }
			NOT = { trait = mystic }
			NOT = { has_character_flag = do_not_disturb }
			NOT = { has_character_flag = building_observatory }
			NOT = { has_character_flag = built_observatory }
			NOT = { has_character_modifier = studying_the_stars }
			NOT = { has_character_modifier = heliocentrist_scholar }
			NOT = { has_character_modifier = weird_scholar }
		}
		allow = {
			prisoner = no
			wealth = 50
			is_adult = yes
		}
		effect = {
			wealth = -50
			set_character_flag = building_observatory
			hidden_tooltip = { character_event = { id = WoL.6000 } }
		}
		revoke_allowed = {
			always = no
		}
		ai_will_do = {
			factor = 1
			
			modifier = {
				factor = 0.01
			}
			modifier = {
				factor = 0.1
				trait = zealous
			}
			modifier = {
				factor = 3
				trait = cynical
			}
			modifier = {
				factor = 0
				NOT = { age = 30 }
			}
			modifier = {
				factor = 0
				NOT = { wealth = 100 }
			}
		}
	}

de_jure_laws = {

# CROWN AUTHORITY

	crown_authority_0 = {
		show_as_title = yes
		group = crown_authority
		default = yes
		
		feudal_opinion = 5
		
		allow = {
			holder_scope = { is_republic = no }
			has_law = crown_authority_1
		}
		potential = {
			holder_scope = {
				is_tribal = no
			}
		}
		revoke_allowed = {
			always = no
		}
		ai_will_do = {
			factor = 0
		}
		ai_will_revoke = {
			factor = 0
		}
		effect = {
			hidden_tooltip = {
				revoke_law = crown_authority_0
				revoke_law = crown_authority_1
				revoke_law = crown_authority_2
				revoke_law = crown_authority_3
				revoke_law = crown_authority_4
			}
			
			set_appoint_generals = no
#			set_appoint_regents = no
			set_the_kings_peace = no
			set_the_kings_full_peace = no
			set_protected_inheritance = no
			set_allow_title_revokation = no
			set_allow_free_infidel_revokation = no
#			set_allow_free_revokation = no
		}
		
		city_vassal_min_levy = 0.0
		castle_vassal_min_levy = 0.0
		temple_vassal_min_levy = 0.0
	}
	
	crown_authority_1 = {
		show_as_title = yes
		group = crown_authority
		
		feudal_opinion = -5
		
		allow = {
			OR = {
				has_law = crown_authority_0
				has_law = crown_authority_2
			}
		}
		potential = {
			holder_scope = {
				is_tribal = no
			}
		}
		revoke_allowed = {
			always = no
		}			
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				NOT = { has_law = crown_authority_0 }
			}
		}
		ai_will_revoke = {
			factor = 0
		}
		
		pass_effect = {
			hidden_tooltip = {
				if = { 
					limit = {
						has_law = crown_authority_0
					}
					any_de_jure_vassal = {
						limit = {
							OR = {
								religion = ROOT
								is_liege_or_above = ROOT
							}
						}
						opinion = {
							who = ROOT
							modifier = opinion_increased_authority
							months = 60
						}
					}
				}
			}
		}
		
		effect = {
			hidden_tooltip = {
				revoke_law = crown_authority_0
				revoke_law = crown_authority_1
				revoke_law = crown_authority_2
				revoke_law = crown_authority_3
				revoke_law = crown_authority_4
			}
			set_appoint_generals = yes
#			set_appoint_regents = no
			set_the_kings_peace = no
			set_the_kings_full_peace = no
			set_protected_inheritance = no
			set_allow_title_revokation = yes
			set_allow_free_infidel_revokation = no
#			set_allow_free_revokation = no
		}
		
		city_vassal_min_levy = 0.2
		castle_vassal_min_levy = 0.2
		temple_vassal_min_levy = 0.2
	}
	
	crown_authority_2 = {
		show_as_title = yes
		group = crown_authority
		
		feudal_opinion = -10
		
		allow = {
			holder_scope = { 
				is_republic = no 
				
				custom_tooltip = { 
					text = TT_NOT_UNREFORMED_PAGAN
					hidden_tooltip = {
						NOT = { religion = norse_pagan }
						NOT = { religion = tengri_pagan }
						NOT = { religion = baltic_pagan }
						NOT = { religion = finnish_pagan }
						NOT = { religion = aztec }
						NOT = { religion = slavic_pagan }
						NOT = { religion = west_african_pagan }
					}
				}
			}
			OR = {
				has_law = crown_authority_1
				has_law = crown_authority_3
			}
		}
		potential = {
			holder_scope = {
				is_tribal = no
			}
		}
		revoke_allowed = {
			always = no
		}			
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0.01
			}
			modifier = {
				factor = 0
				NOT = { has_law = crown_authority_1 }
			}
		}
		ai_will_revoke = {
			factor = 0
		}
		
		pass_effect = {
			hidden_tooltip = {
				if = { 
					limit = {
						has_law = crown_authority_1
					}
					any_de_jure_vassal = {
						limit = {
							OR = {
								religion = ROOT
								is_liege_or_above = ROOT
							}
						}
						opinion = {
							who = ROOT
							modifier = opinion_increased_authority
							months = 60
						}
					}
				}
			}
		}
		
		effect = {
			hidden_tooltip = {
				revoke_law = crown_authority_0
				revoke_law = crown_authority_1
				revoke_law = crown_authority_2
				revoke_law = crown_authority_3
				revoke_law = crown_authority_4
			}
			set_appoint_generals = yes
#			set_appoint_regents = no
			set_the_kings_peace = yes
			set_the_kings_full_peace = no
			set_protected_inheritance = no
			set_allow_title_revokation = yes
			set_allow_free_infidel_revokation = yes
#			set_allow_free_revokation = no
		}
		
		city_vassal_min_levy = 0.4
		castle_vassal_min_levy = 0.4
		temple_vassal_min_levy = 0.4
	}
	
	crown_authority_3 = {
		show_as_title = yes
		group = crown_authority
		
		feudal_opinion = -20
		
		allow = {
			holder_scope = { 
				is_republic = no 
				custom_tooltip = {
					text = TT_NOT_UNREFORMED_PAGAN
					hidden_tooltip = {
						NOT = { religion = norse_pagan }
						NOT = { religion = tengri_pagan }
						NOT = { religion = baltic_pagan }
						NOT = { religion = finnish_pagan }
						NOT = { religion = aztec }
						NOT = { religion = slavic_pagan }
						NOT = { religion = west_african_pagan }
					}
				}
			}
			OR = {
				has_law = crown_authority_2
				has_law = crown_authority_4
			}
		}
		potential = {
			holder_scope = {
				is_tribal = no
			}
		}
		revoke_allowed = {
			always = no
		}
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0.005
			}
			modifier = {
				factor = 0
				OR = {
					NOT = { has_law = crown_authority_2 }
					NOT = { ruled_years = 20 }
				}
			}
		}
		ai_will_revoke = {
			factor = 0
		}
		
		pass_effect = {
			hidden_tooltip = {
				if = { 
					limit = {
						has_law = crown_authority_2
					}
					any_de_jure_vassal = {
						limit = {
							OR = {
								religion = ROOT
								is_liege_or_above = ROOT
							}
						}
						opinion = {
							who = ROOT
							modifier = opinion_increased_authority
							months = 60
						}
					}
				}
			}
		}
		
		effect = {
		
			hidden_tooltip = {
				revoke_law = crown_authority_0
				revoke_law = crown_authority_1
				revoke_law = crown_authority_2
				revoke_law = crown_authority_3
				revoke_law = crown_authority_4
			}
			set_appoint_generals = yes
#			set_appoint_regents = yes
			set_the_kings_peace = yes
			set_the_kings_full_peace = no
			set_protected_inheritance = yes
			set_allow_title_revokation = yes
			set_allow_free_infidel_revokation = yes
#			set_allow_free_revokation = no
		}
		
		city_vassal_min_levy = 0.6
		castle_vassal_min_levy = 0.6
		temple_vassal_min_levy = 0.6
	}
	
	crown_authority_4 = {
		show_as_title = yes
		group = crown_authority
		
		feudal_opinion = -30
		
		allow = {
			holder_scope = { 
				is_republic = no 
				custom_tooltip = {
					text = TT_NOT_UNREFORMED_PAGAN
					hidden_tooltip = {
						NOT = { religion = norse_pagan }
						NOT = { religion = tengri_pagan }
						NOT = { religion = baltic_pagan }
						NOT = { religion = finnish_pagan }
						NOT = { religion = aztec }
						NOT = { religion = slavic_pagan }
						NOT = { religion = west_african_pagan }
					}
				}
			}
			has_law = crown_authority_3
		}
		potential = {
			holder_scope = {
				is_tribal = no
			}
		}
		revoke_allowed = {
			always = no
		}
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0.001
			}
			modifier = {
				factor = 0
				OR = {
					NOT = { has_law = crown_authority_3 }
					NOT = { ruled_years = 20 }
				}
			}
		}
		
		ai_will_revoke = {
			factor = 0
		}
		
		pass_effect = {
			hidden_tooltip = {
				if = { 
					limit = {
						has_law = crown_authority_3
					}
					any_de_jure_vassal = {
						limit = {
							OR = {
								religion = ROOT
								is_liege_or_above = ROOT
							}
						}
						opinion = {
							who = ROOT
							modifier = opinion_increased_authority
							months = 60
						}
					}
				}
			}
		}
		
		effect = {
			hidden_tooltip = {
				revoke_law = crown_authority_0
				revoke_law = crown_authority_1
				revoke_law = crown_authority_2
				revoke_law = crown_authority_3
				revoke_law = crown_authority_4
			}
			set_appoint_generals = yes
#			set_appoint_regents = yes
			set_the_kings_peace = yes
			set_the_kings_full_peace = yes
			set_protected_inheritance = yes
			set_allow_title_revokation = yes
			set_allow_free_infidel_revokation = yes
#			set_allow_free_revokation = yes
		}
		
		city_vassal_min_levy = 0.8
		castle_vassal_min_levy = 0.8
		temple_vassal_min_levy = 0.8
	}
	
# INVESTITURE

	# Papal Investiture
	investiture_law_0 = {
		show_as_title = yes
		group = investiture_law
		default = yes
		potential = {
			holder_scope = {
				OR = {
					#religion = catholic
					#religion = fraticelli
				}
				is_tribal = no
			}
		}
		allow = {
			year = 800
		}
		revoke_allowed = {
			always = no
		}			
		ai_will_do = {
			factor = 0
		}
		ai_will_revoke = {
			factor = 0
		}
		effect = {
			hidden_tooltip = {
				revoke_law = investiture_law_0
				revoke_law = investiture_law_1
			}
			set_investiture = head
		}
	}
	
	# Free Investiture
	investiture_law_1 = {
		show_as_title = yes
		rel_head_opinion = -30
		free_invest_vassal_opinion = 10 # vassals with bishops will appreciate this law
		temple_all_opinion = 10 # Bishops will tend to be more loyal to the Crown
		group = investiture_law
		potential = {
			holder_scope = {
				OR = {
					#religion = catholic
					#religion = fraticelli
				}
				is_tribal = no
			}
		}
		revoke_allowed = {
			always = no
		}			
		ai_will_do = {
			modifier = {
				factor = 0.002 # Rare to do this
			}
			modifier = {
				factor = 0
				OR = {
					holder_scope = {
						NOT = { trait = cynical }
					}
					NOT = { has_law = investiture_law_0 }
				}
			}
		}
		ai_will_revoke = {
			factor = 0
		}
		effect = {
			hidden_tooltip = {
				revoke_law = investiture_law_0
				revoke_law = investiture_law_1
			}
			set_investiture = any
		}
	}
	
}
	
###############################################
###DEMESNE LAWS
###############################################
laws = {

	# CENTRALIZATION LAWS
	##
	
	centralization_0 = {
		group = centralization
		default = yes
		
		allow = {
			OR = {
				has_law = centralization_1
				AND = {
					NOT = {	has_law = centralization_0 }
					NOT = {	has_law = centralization_1 }
					NOT = {	has_law = centralization_2 }
					NOT = {	has_law = centralization_3 }
					NOT = {	has_law = centralization_4 }
				}
			}
		}
		potential = {
			higher_tier_than = count
		}
		revoke_allowed = {
			always = no
		}			
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0.8
			}
			modifier = {
				factor = 0
				NOT = {
					OR = {
						AND = {
							has_law = centralization_1
							over_vassal_limit = -1
							over_max_demesne_size = -1
						}
						AND = {
							has_law = centralization_2
							over_vassal_limit = -6
							over_max_demesne_size = -2
						}
						AND = {
							has_law = centralization_3
							over_vassal_limit = -11
							over_max_demesne_size = -3
						}
						AND = {
							has_law = centralization_4
							over_vassal_limit = -16
							over_max_demesne_size = -4
						}					
					}
				}
			}
		}
		ai_will_revoke = {
			factor = 0
		}
		effect = {
			hidden_tooltip = {
				revoke_law = centralization_0
				revoke_law = centralization_1
				revoke_law = centralization_2
				revoke_law = centralization_3
				revoke_law = centralization_4
			}
		}
		
		vassal_limit = 10
	}
	
	centralization_1 = {
		group = centralization
		
		allow = {
			OR = { 
				has_law = centralization_0
				has_law = centralization_2
			}
			OR = {
				OR = {
					has_law = tribal_organization_1
					has_law = tribal_organization_2
					has_law = tribal_organization_3
					has_law = tribal_organization_4
				}
				holder_scope = {
					is_tribal = no
				}
			}
		}
		potential = {
			higher_tier_than = count
		}
		revoke_allowed = {
			always = no
		}			
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0.9
			}
			modifier = {
				factor = 0
				NOT = {
					OR = {
						AND = {
							has_law = centralization_0
							over_vassal_limit = -1
							over_max_demesne_size = 1
						}
						AND = {
							has_law = centralization_2
							over_vassal_limit = 1
							over_max_demesne_size = -1
						}
						AND = {
							has_law = centralization_3
							over_vassal_limit = 6
							over_max_demesne_size = -2
						}
						AND = {
							has_law = centralization_4
							over_vassal_limit = 11
							over_max_demesne_size = -3
						}					
					}
				}
			}
		}
		ai_will_revoke = {
			factor = 0
		}
		effect = {
			hidden_tooltip = {
				revoke_law = centralization_0
				revoke_law = centralization_1
				revoke_law = centralization_2
				revoke_law = centralization_3
				revoke_law = centralization_4
			}
		}
		
		vassal_limit = 5
		demesne_size = 1
	}
	
	centralization_2 = {
		group = centralization
		
		allow = {
			OR = { 
				has_law = centralization_1
				has_law = centralization_3
			}
			OR = {
				OR = {
					has_law = tribal_organization_2
					has_law = tribal_organization_3
					has_law = tribal_organization_4
				}
				holder_scope = {
					is_tribal = no
				}
			}
		}
		potential = {
			higher_tier_than = count
		}
		revoke_allowed = {
			always = no
		}			
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				NOT = {
					OR = {
						AND = {
							has_law = centralization_0
							over_vassal_limit = -6
							over_max_demesne_size = 2
						}
						AND = {
							has_law = centralization_1
							over_vassal_limit = -1
							over_max_demesne_size = 1
						}
						AND = {
							has_law = centralization_3
							over_vassal_limit = 1
							over_max_demesne_size = -1
						}
						AND = {
							has_law = centralization_4
							over_vassal_limit = 6
							over_max_demesne_size = -2
						}					
					}
				}
			}
		}
		ai_will_revoke = {
			factor = 0
		}
		effect = {
			hidden_tooltip = {
				revoke_law = centralization_0
				revoke_law = centralization_1
				revoke_law = centralization_2
				revoke_law = centralization_3
				revoke_law = centralization_4
			}
		}
		
		vassal_limit = 0
		demesne_size = 2
	}
	
	centralization_3 = {
		group = centralization
		
		allow = {
			OR = { 
				has_law = centralization_2
				has_law = centralization_4
			}
			OR = {
				OR = {
					has_law = tribal_organization_3
					has_law = tribal_organization_4
				}
				holder_scope = {
					is_tribal = no
				}
			}
		}
		potential = {
			higher_tier_than = count
		}
		revoke_allowed = {
			always = no
		}			
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0.9
			}
			modifier = {
				factor = 0
				NOT = {
					OR = {
						AND = {
							has_law = centralization_0
							over_vassal_limit = -11
							over_max_demesne_size = 3
						}
						AND = {
							has_law = centralization_1
							over_vassal_limit = -6
							over_max_demesne_size = 2
						}
						AND = {
							has_law = centralization_2
							over_vassal_limit = -1
							over_max_demesne_size = 1
						}
						AND = {
							has_law = centralization_4
							over_vassal_limit = 1
							over_max_demesne_size = -1
						}					
					}
				}
			}
		}
		ai_will_revoke = {
			factor = 0
		}
		effect = {
			hidden_tooltip = {
				revoke_law = centralization_0
				revoke_law = centralization_1
				revoke_law = centralization_2
				revoke_law = centralization_3
				revoke_law = centralization_4
			}
		}
		
		vassal_limit = -5
		demesne_size = 3
	}
	
	centralization_4 = {
		group = centralization
		
		allow = {
			has_law = centralization_3
			OR = {
				OR = {
					has_law = tribal_organization_4
				}
				holder_scope = {
					is_tribal = no
				}
			}
		}
		potential = {
			higher_tier_than = count
		}
		revoke_allowed = {
			always = no
		}			
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0.8
			}
			modifier = {
				factor = 0
				NOT = {
					OR = {
						AND = {
							has_law = centralization_0
							over_vassal_limit = -16
							over_max_demesne_size = 4
						}
						AND = {
							has_law = centralization_1
							over_vassal_limit = -11
							over_max_demesne_size = 3
						}
						AND = {
							has_law = centralization_2
							over_vassal_limit = -6
							over_max_demesne_size = 2
						}
						AND = {
							has_law = centralization_3
							over_vassal_limit = -1
							over_max_demesne_size = 1
						}					
					}
				}
			}
		}
		ai_will_revoke = {
			factor = 0
		}
		effect = {
			hidden_tooltip = {
				revoke_law = centralization_0
				revoke_law = centralization_1
				revoke_law = centralization_2
				revoke_law = centralization_3
				revoke_law = centralization_4
			}
		}
		
		vassal_limit = -10
		demesne_size = 4
	}
	
	
	# TRIBAL ORGANIZATION
	##
	
	tribal_organization_0 = {
		group = tribal_organization
		default = yes
		
		tribal_opinion = 5
		
		allow = {
			OR = {
				has_law = tribal_organization_1
				AND = {
					NOT = { has_law = tribal_organization_0 }
					NOT = { has_law = tribal_organization_1 }
					NOT = { has_law = tribal_organization_2 }
					NOT = { has_law = tribal_organization_3 }
					NOT = { has_law = tribal_organization_4 }
				}
			}
		}
		potential = {
			holder_scope = {
				is_tribal = yes
				independent = yes
			}
		}
		revoke_allowed = {
			always = no
		}			
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				has_law = tribal_organization_1
				holder_scope = {
					NOT = {
						any_vassal = {
							is_tribal = yes
							dislike_tribal_organization = yes
							NOT = {
								opinion = {
									who = liege
									value = 0
								}
							}
						}
					}
				}
			}
			modifier = {
				factor = 0.5
				has_law = tribal_organization_1
				dislike_tribal_organization = no
			}
		}
		ai_will_revoke = {
			factor = 0
		}
		effect = {
			hidden_tooltip = {
				revoke_law = tribal_organization_0
				revoke_law = tribal_organization_1
				revoke_law = tribal_organization_2
				revoke_law = tribal_organization_3
				revoke_law = tribal_organization_4
				if = {
					limit = {
						OR = {
							has_law = centralization_1
							has_law = centralization_2
							has_law = centralization_3
							has_law = centralization_4
						}
					}
					add_law = centralization_0
				}
			}
			set_allow_title_revokation = no
			set_allow_free_infidel_revokation = no
			if = {
				limit = { 
					OR = {
						has_law = tribal_organization_1
					}
				}
				custom_tooltip = {
					text = disables_centralization_1
				}
			}
			if = {
				limit = { 
					OR = {
						has_law = tribal_organization_2
					}
				}
				custom_tooltip = {
					text = disables_centralization_2
				}
			}
			if = {
				limit = { 
					OR = {
						has_law = tribal_organization_3
					}
				}
				custom_tooltip = {
					text = disables_centralization_3
				}
			}
			if = {
				limit = { 
					OR = {
						has_law = tribal_organization_4
					}
				}
				custom_tooltip = {
					text = disables_centralization_4
				}
			}
			set_tribal_vassal_levy_control = no
			set_tribal_vassal_tax_income = no
			if = {
				limit = { 
					OR = {
						has_law = tribal_organization_4
					}
				}
				custom_tooltip = {
					text = disallows_change_government
				}
			}
		}
	}
	
	tribal_organization_1 = {
		group = tribal_organization
		
		tribal_opinion = -5
		
		allow = {
			OR = {
				has_law = tribal_organization_0
				has_law = tribal_organization_2
			}
		}
		potential = {
			holder_scope = {
				is_tribal = yes
				independent = yes
			}
		}
		revoke_allowed = {
			always = no
		}			
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0.5
				has_law = tribal_organization_0
				holder_scope = {
					any_vassal = {
						is_tribal = yes
						dislike_tribal_organization = yes
						NOT = {
							opinion = {
								who = liege
								value = 10
							}
						}
					}
				}
			}
			modifier = {
				factor = 0
				has_law = tribal_organization_2
				holder_scope = {
					NOT = {
						any_vassal = {
							is_tribal = yes
							dislike_tribal_organization = yes
							NOT = {
								opinion = {
									who = liege
									value = 0
								}
							}
						}
					}
				}
			}
			modifier = {
				factor = 2
				has_law = tribal_organization_0
				dislike_tribal_organization = no
			}
			modifier = {
				factor = 0.5
				has_law = tribal_organization_2
				dislike_tribal_organization = no
			}
		}
		ai_will_revoke = {
			factor = 0
		}
		pass_effect = {
			hidden_tooltip = {
				if = { 
					limit = {
						has_law = tribal_organization_0
					}
					holder_scope = {
						any_vassal = {
							limit = {
								is_tribal = yes
								dislike_tribal_organization = yes
							}
							opinion = {
								who = ROOT
								modifier = opinion_increased_tribal_organization
								months = 60
							}
						}
					}
				}
			}
		}
		effect = {
			hidden_tooltip = {
				revoke_law = tribal_organization_0
				revoke_law = tribal_organization_1
				revoke_law = tribal_organization_2
				revoke_law = tribal_organization_3
				revoke_law = tribal_organization_4
				if = {
					limit = {
						OR = {
							has_law = centralization_2
							has_law = centralization_3
							has_law = centralization_4
						}
					}
					add_law = centralization_1
				}
			}
			set_allow_title_revokation = yes
			if = {
				limit = { 
					OR = {
						has_law = tribal_organization_0
					}
				}
				custom_tooltip = {
					text = enables_centralization_1
				}
			}
			if = {
				limit = { 
					OR = {
						has_law = tribal_organization_2
					}
				}
				custom_tooltip = {
					text = disables_centralization_2
				}
			}
			if = {
				limit = { 
					OR = {
						has_law = tribal_organization_3
					}
				}
				custom_tooltip = {
					text = disables_centralization_3
				}
			}
			if = {
				limit = { 
					OR = {
						has_law = tribal_organization_4
					}
				}
				custom_tooltip = {
					text = disables_centralization_4
				}
			}
			set_allow_free_infidel_revokation = no
			set_tribal_vassal_levy_control = no
			set_tribal_vassal_tax_income = no
			if = {
				limit = { 
					OR = {
						has_law = tribal_organization_4
					}
				}
				custom_tooltip = {
					text = disallows_change_government
				}
			}
		}
	}
	
	tribal_organization_2 = {
		group = tribal_organization
		
		tribal_opinion = -10
		
		allow = {
			OR = {
				has_law = tribal_organization_1
				has_law = tribal_organization_3
			}
		}
		potential = {
			holder_scope = {
				is_tribal = yes
				independent = yes
			}
		}
		revoke_allowed = {
			always = no
		}			
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0.5
				has_law = tribal_organization_1
				holder_scope = {
					any_vassal = {
						is_tribal = yes
						dislike_tribal_organization = yes
						NOT = {
							opinion = {
								who = liege
								value = 5
							}
						}
					}
				}
			}
			modifier = {
				factor = 0
				has_law = tribal_organization_3
				holder_scope = {
					NOT = {
						any_vassal = {
							is_tribal = yes
							dislike_tribal_organization = yes
							NOT = {
								opinion = {
									who = liege
									value = 0
								}
							}
						}
					}
				}
			}
			modifier = {
				factor = 2
				has_law = tribal_organization_1
				dislike_tribal_organization = no
			}
			modifier = {
				factor = 0.5
				has_law = tribal_organization_3
				dislike_tribal_organization = no
			}
		}
		ai_will_revoke = {
			factor = 0
		}
		pass_effect = {
			hidden_tooltip = {
				if = { 
					limit = {
						has_law = tribal_organization_1
					}
					holder_scope = {
						any_vassal = {
							limit = {
								is_tribal = yes
								dislike_tribal_organization = yes
							}
							opinion = {
								who = ROOT
								modifier = opinion_increased_tribal_organization
								months = 60
							}
						}
					}
				}
			}
		}
		effect = {
			hidden_tooltip = {
				revoke_law = tribal_organization_0
				revoke_law = tribal_organization_1
				revoke_law = tribal_organization_2
				revoke_law = tribal_organization_3
				revoke_law = tribal_organization_4
				if = {
					limit = {
						OR = {
							has_law = centralization_3
							has_law = centralization_4
						}
					}
					add_law = centralization_2
				}
			}
			set_allow_title_revokation = yes
			set_allow_free_infidel_revokation = yes
			if = {
				limit = { 
					OR = {
						has_law = tribal_organization_0
						has_law = tribal_organization_1
					}
				}
				custom_tooltip = {
					text = enables_centralization_2
				}
			}
			if = {
				limit = { 
					OR = {
						has_law = tribal_organization_3
					}
				}
				custom_tooltip = {
					text = disables_centralization_3
				}
			}
			if = {
				limit = { 
					OR = {
						has_law = tribal_organization_4
					}
				}
				custom_tooltip = {
					text = disables_centralization_4
				}
			}
			set_tribal_vassal_levy_control = no
			set_tribal_vassal_tax_income = no
			if = {
				limit = { 
					OR = {
						has_law = tribal_organization_4
					}
				}
				custom_tooltip = {
					text = disallows_change_government
				}
			}
		}
	}
	
	tribal_organization_3 = {
		group = tribal_organization
		
		tribal_opinion = -20
		
		allow = {
			OR = {
				has_law = tribal_organization_2
				has_law = tribal_organization_4
			}
		}
		potential = {
			holder_scope = {
				is_tribal = yes
				independent = yes
			}
		}
		revoke_allowed = {
			always = no
		}			
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0.5
				has_law = tribal_organization_2
				holder_scope = {
					any_vassal = {
						is_tribal = yes
						dislike_tribal_organization = yes
						NOT = {
							opinion = {
								who = liege
								value = 10
							}
						}
					}
				}
			}
			modifier = {
				factor = 0
				has_law = tribal_organization_4
				holder_scope = {
					NOT = {
						any_vassal = {
							is_tribal = yes
							dislike_tribal_organization = yes
							NOT = {
								opinion = {
									who = liege
									value = 0
								}
							}
						}
					}
				}
			}
			modifier = {
				factor = 2
				has_law = tribal_organization_2
				dislike_tribal_organization = no
			}
			modifier = {
				factor = 0.5
				has_law = tribal_organization_4
				dislike_tribal_organization = no
			}
		}
		ai_will_revoke = {
			factor = 0
		}
		pass_effect = {
			hidden_tooltip = {
				if = { 
					limit = {
						has_law = tribal_organization_2
					}
					holder_scope = {
						any_vassal = {
							limit = {
								is_tribal = yes
								dislike_tribal_organization = yes
							}
							opinion = {
								who = ROOT
								modifier = opinion_increased_tribal_organization
								months = 60
							}
						}
					}
				}
			}
		}
		effect = {
			hidden_tooltip = {
				revoke_law = tribal_organization_0
				revoke_law = tribal_organization_1
				revoke_law = tribal_organization_2
				revoke_law = tribal_organization_3
				revoke_law = tribal_organization_4
				if = {
					limit = {
						OR = {
							has_law = centralization_4
						}
					}
					add_law = centralization_3
				}
			}
			set_allow_title_revokation = yes
			set_allow_free_infidel_revokation = yes
			set_tribal_vassal_levy_control = yes
			set_tribal_vassal_tax_income = yes
			if = {
				limit = { 
					OR = {
						has_law = tribal_organization_0
						has_law = tribal_organization_1
						has_law = tribal_organization_2
					}
				}
				custom_tooltip = {
					text = enables_centralization_3
				}
			}
			if = {
				limit = { 
					OR = {
						has_law = tribal_organization_4
					}
				}
				custom_tooltip = {
					text = disables_centralization_4
				}
			}
			if = {
				limit = { 
					OR = {
						has_law = tribal_organization_4
					}
				}
				custom_tooltip = {
					text = disallows_change_government
				}
			}
		}
	}
	
	tribal_organization_4 = {
		group = tribal_organization
		
		tribal_opinion = -30
		
		allow = {
			has_law = tribal_organization_3
		}
		potential = {
			holder_scope = {
				is_tribal = yes
				independent = yes
			}
		}
		revoke_allowed = {
			always = no
		}			
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0.5
				has_law = tribal_organization_3
				holder_scope = {
					any_vassal = {
						is_tribal = yes
						dislike_tribal_organization = yes
						NOT = {
							opinion = {
								who = liege
								value = 10
							}
						}
					}
				}
			}
			modifier = {
				factor = 2
				has_law = tribal_organization_3
				dislike_tribal_organization = no
			}
		}
		ai_will_revoke = {
			factor = 0
		}
		pass_effect = {
			hidden_tooltip = {
				if = { 
					limit = {
						has_law = tribal_organization_3
					}
					holder_scope = {
						any_vassal = {
							limit = {
								is_tribal = yes
								dislike_tribal_organization = yes
							}
							opinion = {
								who = ROOT
								modifier = opinion_increased_tribal_organization
								months = 60
							}
						}
					}
				}
			}
		}
		effect = {
			hidden_tooltip = {
				revoke_law = tribal_organization_0
				revoke_law = tribal_organization_1
				revoke_law = tribal_organization_2
				revoke_law = tribal_organization_3
				revoke_law = tribal_organization_4
			}
			set_allow_title_revokation = yes
			set_allow_free_infidel_revokation = yes
			set_tribal_vassal_levy_control = yes
			set_tribal_vassal_tax_income = yes
			if = {
				limit = { 
					OR = {
						has_law = tribal_organization_0
						has_law = tribal_organization_1
						has_law = tribal_organization_2
						has_law = tribal_organization_3
					}
				}
				custom_tooltip = {
					text = enables_centralization_4
				}
			}
			if = {
				limit = { 
					OR = {
						has_law = tribal_organization_0
						has_law = tribal_organization_1
						has_law = tribal_organization_2
						has_law = tribal_organization_3
					}
				}
				custom_tooltip = {
					text = allows_change_government
				}
			}
		}
	}
	
	# VICE ROYALTY LAWS
	##############################
	
	vice_royalty_0 = {
		group = vice_royalty
		default = yes
		
		potential = {
			higher_tier_than = king
			holder_scope = {
				independent = yes
				is_feudal = yes
			}
			has_dlc = "Charlemagne"
		}
		revoke_allowed = {
			always = no
		}			
		ai_will_do = {
			factor = 0
		}
		ai_will_revoke = {
			factor = 0
		}
		effect = {
			hidden_tooltip = {
				revoke_law = vice_royalty_0
				revoke_law = vice_royalty_1
				revoke_law = vice_royalty_2
			}
			set_allow_vice_royalties = no
		}
	}

	vice_royalty_1 = {
		group = vice_royalty
		
		potential = {
			higher_tier_than = king
			holder_scope = {
				independent = yes
				is_feudal = yes
			}
			has_dlc = "Charlemagne"
		}
		revoke_allowed = {
			always = no
		}			
		ai_will_do = {
			factor = 2
			modifier = {
				factor = 0
				has_law = vice_royalty_2
			}
			modifier = {
				factor = 0
				AND = {
					has_law = vice_royalty_0
					over_vassal_limit = -5
				}
			}
		}
		ai_will_revoke = {
			factor = 0
		}
		effect = {
			hidden_tooltip = {
				revoke_law = vice_royalty_0
				revoke_law = vice_royalty_1
				revoke_law = vice_royalty_2
			}
			set_allow_vice_royalties = king
		}
		
		vassal_limit = -5
	}
	
	vice_royalty_2 = {
		group = vice_royalty
		
		potential = {
			higher_tier_than = king
			holder_scope = {
				independent = yes
				is_feudal = yes
			}
			has_dlc = "Charlemagne"
		}
		revoke_allowed = {
			always = no
		}			
		ai_will_do = {
			factor = 3
			modifier = {
				factor = 0
				AND = {
					has_law = vice_royalty_0
					over_vassal_limit = -10
				}
			}
			modifier = {
				factor = 0
				AND = {
					has_law = vice_royalty_1
					over_vassal_limit = -5
				}
			}
		}
		ai_will_revoke = {
			factor = 0
		}
		effect = {
			hidden_tooltip = {
				revoke_law = vice_royalty_0
				revoke_law = vice_royalty_1
				revoke_law = vice_royalty_2
			}
			set_allow_vice_royalties = duke
		}
		
		vassal_limit = -10
	}
	
	# BYZANTINE ADMINISTRATION
	##############################
	
	feudal_administration = {
		group = administration
		
		potential = {
			higher_tier_than = king
			holder_scope = {
				independent = yes
				is_tribal = no
			}
		}
		revoke_allowed = {
			always = no
		}
		ai_will_do = {
			factor = 0
		}
		ai_will_revoke = {
			factor = 0
		}
		
		effect = {
			hidden_tooltip = {
				revoke_law = imperial_administration
			}
			if = {
				limit = { 
					NOT = { has_dlc = "Charlemagne" } 
				}
				set_allow_free_duchy_revokation = no
			}
			if = {
				limit = { 
					has_dlc = "Charlemagne" 
				}
				set_allow_free_vice_royalty_revokation = no
			}
		}
	}
	
	imperial_administration = {
		group = administration
		
		allow = {
			has_law = crown_authority_4
		}
		
		potential = {
			higher_tier_than = king
			holder_scope = {
				independent = yes
				is_tribal = no
			}
		}
		revoke_allowed = {
			always = no
		}
		ai_will_do = {
			factor = 10
		}
		ai_will_revoke = {
			factor = 0
		}
		
		effect = {
			hidden_tooltip = {
				revoke_law = feudal_administration
			}
			if = {
				limit = { 
					NOT = { has_dlc = "Charlemagne" } 
				}
				set_allow_free_duchy_revokation = yes
			}
			if  = {
				limit = {
					has_dlc = "Charlemagne"
				}
				add_law = vice_royalty_2
				set_allow_free_vice_royalty_revokation = yes
			}
		}
		
		vassal_limit = 25
		feudal_opinion = -10
	}
	
	
	# FEUDAL VASSAL LEVY SIZE LAWS
	##############################
	
	feudal_contract_0 = {
		group = feudal_contract
		feudal_opinion = 10
		
		potential = {
			OR = {
				NOT = { tier = baron }
				holder_scope = { is_patrician = yes }
			}
			#NOT = { holder_scope = { religion_group = muslim } }
		}
		revoke_allowed = {
			always = no
		}			
		ai_will_do = {
			factor = 0
		}
		ai_will_revoke = {
			factor = 0
		}
		effect = {
			hidden_tooltip = {
				revoke_law = feudal_contract_0
				revoke_law = feudal_contract_1
				revoke_law = feudal_contract_2
				revoke_law = feudal_contract_3
			}
		}
		
		castle_vassal_max_levy = -0.4
	}
	
	feudal_contract_1 = {
		group = feudal_contract
		feudal_opinion = 5
		
		potential = {
			OR = {
				NOT = { tier = baron }
				holder_scope = { is_patrician = yes }
			}
			NOT = { holder_scope = { religion_group = muslim } }
		}
		revoke_allowed = {
			always = no
		}			
		ai_will_do = {
			factor = 0
		}
		ai_will_revoke = {
			factor = 0
		}
		effect = {
			hidden_tooltip = {
				revoke_law = feudal_contract_0
				revoke_law = feudal_contract_1
				revoke_law = feudal_contract_2
				revoke_law = feudal_contract_3
			}
		}
		castle_vassal_max_levy = -0.3
	}
	
	feudal_contract_2 = {
		group = feudal_contract
		feudal_opinion = 0
		default = yes
		
		potential = {
			OR = {
				NOT = { tier = baron }
				holder_scope = { is_patrician = yes }
			}
			NOT = { holder_scope = { religion_group = muslim } }
		}
		revoke_allowed = {
			always = no
		}			
		ai_will_do = {
			factor = 1
		}
		ai_will_revoke = {
			factor = 0
		}
		effect = {
			hidden_tooltip = {
				revoke_law = feudal_contract_0
				revoke_law = feudal_contract_1
				revoke_law = feudal_contract_2
				revoke_law = feudal_contract_3
			}
		}
		
		castle_vassal_max_levy = -0.2
	}
	
	feudal_contract_3 = {
		group = feudal_contract
		feudal_opinion = -5
		
		potential = {
			OR = {
				NOT = { tier = baron }
				holder_scope = { is_patrician = yes }
			}
			#NOT = { holder_scope = { religion_group = muslim } }
		}
		revoke_allowed = {
			always = no
		}
		ai_will_do = {
			factor = 0
		}
		ai_will_revoke = {
			factor = 0
		}
		effect = {
			revoke_law = feudal_contract_0
			revoke_law = feudal_contract_1
			revoke_law = feudal_contract_2
		}
	}
	
	
	# FEUDAL VASSAL TAX SIZE LAWS
	##############################
	
	feudal_tax_0 = {
		group = feudal_tax
		feudal_opinion = 0
		default = yes
		
		potential = {
			OR = {
				NOT = { tier = baron }
				holder_scope = { is_patrician = yes }
			}
			#NOT = { holder_scope = { religion_group = muslim } }
		}
		revoke_allowed = {
			always = no
		}			
		ai_will_do = {
			factor = 1
		}
		ai_will_revoke = {
			factor = 0
		}
		effect = {
			hidden_tooltip = {
				revoke_law = feudal_tax_0
				revoke_law = feudal_tax_1
				revoke_law = feudal_tax_2
				revoke_law = feudal_tax_3
			}
		}
		castle_vassal_tax_modifier = 0.0
	}

	feudal_tax_1 = {
		group = feudal_tax
		feudal_opinion = -10
		
		potential = {
			OR = {
				NOT = { tier = baron }
				holder_scope = { is_patrician = yes }
			}
			#NOT = { holder_scope = { religion_group = muslim } }
		}
		revoke_allowed = {
			always = no
		}			
		ai_will_do = {
			factor = 0
		}
		ai_will_revoke = {
			factor = 0
		}
		effect = {
			hidden_tooltip = {
				revoke_law = feudal_tax_0
				revoke_law = feudal_tax_1
				revoke_law = feudal_tax_2
				revoke_law = feudal_tax_3
			}
		}
		
		castle_vassal_tax_modifier = 0.1
		
	}
	
	feudal_tax_2 = {
		group = feudal_tax
		feudal_opinion = -20
		potential = {
			OR = {
				NOT = { tier = baron }
				holder_scope = { is_patrician = yes }
			}
			#NOT = { holder_scope = { religion_group = muslim } }
		}
		revoke_allowed = {
			always = no
		}			
		ai_will_do = {
			factor = 0
		}
		ai_will_revoke = {
			factor = 0
		}
		effect = {
			hidden_tooltip = {
				revoke_law = feudal_tax_0
				revoke_law = feudal_tax_1
				revoke_law = feudal_tax_2
				revoke_law = feudal_tax_3
			}
		}
		castle_vassal_tax_modifier = 0.2
	}
	
	feudal_tax_3 = {
		group = feudal_tax
		feudal_opinion = -30
		potential = {
			OR = {
				NOT = { tier = baron }
				holder_scope = { is_patrician = yes }
			}
			NOT = { holder_scope = { religion_group = muslim } }
		}
		revoke_allowed = {
			always = no
		}			
		ai_will_do = {
			factor = 0
		}
		ai_will_revoke = {
			factor = 0
		}
		effect = {
			hidden_tooltip = {
				revoke_law = feudal_tax_0
				revoke_law = feudal_tax_1
				revoke_law = feudal_tax_2
				revoke_law = feudal_tax_3
			}
		}
		
		castle_vassal_tax_modifier = 0.3
	}
	
	# CITY VASSAL LEVY SIZE LAWS
	##############################
	
	city_contract_0 = {
		group = city_contract
		city_opinion = 10
		potential = {
			OR = {
				NOT = { tier = baron }
				holder_scope = { is_patrician = yes }
			}
		}
		revoke_allowed = {
			always = no
		}			
		ai_will_do = {
			factor = 0
		}
		ai_will_revoke = {
			factor = 0
		}
		effect = {
			hidden_tooltip = {
				revoke_law = city_contract_0
				revoke_law = city_contract_1
				revoke_law = city_contract_2
				revoke_law = city_contract_3
			}
		}
		
		city_vassal_max_levy = -0.5
	}

	city_contract_1 = {
		group = city_contract
		city_opinion = 0
		default = yes
		potential = {
			OR = {
				NOT = { tier = baron }
				holder_scope = { is_patrician = yes }
			}
		}
		revoke_allowed = {
			always = no
		}			
		ai_will_do = {
			factor = 1
		}
		ai_will_revoke = {
			factor = 0
		}
		effect = {
			hidden_tooltip = {
				revoke_law = city_contract_0
				revoke_law = city_contract_1
				revoke_law = city_contract_2
				revoke_law = city_contract_3
			}
		}
		
		city_vassal_max_levy = -0.35
	}
	
	city_contract_2 = {
		group = city_contract
		city_opinion = -10
		potential = {
			OR = {
				NOT = { tier = baron }
				holder_scope = { is_patrician = yes }
			}
		}
		revoke_allowed = {
			always = no
		}			
		ai_will_do = {
			factor = 0
		}
		ai_will_revoke = {
			factor = 0
		}
		effect = {
			hidden_tooltip = {
				revoke_law = city_contract_0
				revoke_law = city_contract_1
				revoke_law = city_contract_2
				revoke_law = city_contract_3
			}
		}
		city_vassal_max_levy = -0.2
	}
	
	city_contract_3 = {
		group = city_contract
		city_opinion = -20
		potential = {
			OR = {
				NOT = { tier = baron }
				holder_scope = { is_patrician = yes }
			}
		}
		revoke_allowed = {
			always = no
		}			
		ai_will_do = {
			factor = 0
		}
		ai_will_revoke = {
			factor = 0
		}
		effect = {
			hidden_tooltip = {
				revoke_law = city_contract_0
				revoke_law = city_contract_1
				revoke_law = city_contract_2
				revoke_law = city_contract_3
			}
		}
		
		city_vassal_max_levy = -0.05
	}
	
	
	# CITY VASSAL TAX SIZE LAWS
	##############################
	
	city_tax_0 = {
		group = city_tax
		city_opinion = 10
		potential = {
			OR = {
				NOT = { tier = baron }
				holder_scope = { is_patrician = yes }
			}
		}
		revoke_allowed = {
			always = no
		}			
		ai_will_do = {
			factor = 0
		}
		ai_will_revoke = {
			factor = 0
		}
		effect = {
			hidden_tooltip = {
				revoke_law = city_tax_0
				revoke_law = city_tax_1
				revoke_law = city_tax_2
				revoke_law = city_tax_3
			}
		}
		
		city_vassal_tax_modifier = 0.15
	}

	city_tax_1 = {
		group = city_tax
		city_opinion = 0
		default = yes
		
		potential = {
			OR = {
				NOT = { tier = baron }
				holder_scope = { is_patrician = yes }
			}
		}
		revoke_allowed = {
			always = no
		}			
		ai_will_do = {
			factor = 1
		}
		ai_will_revoke = {
			factor = 0
		}
		effect = {
			hidden_tooltip = {
				revoke_law = city_tax_0
				revoke_law = city_tax_1
				revoke_law = city_tax_2
				revoke_law = city_tax_3
			}
		}
		
		city_vassal_tax_modifier = 0.25
	}
	
	city_tax_2 = {
		group = city_tax
		city_opinion = -10
		potential = {
			OR = {
				NOT = { tier = baron }
				holder_scope = { is_patrician = yes }
			}
		}
		revoke_allowed = {
			always = no
		}			
		ai_will_do = {
			factor = 0
		}
		ai_will_revoke = {
			factor = 0
		}
		effect = {
			hidden_tooltip = {
				revoke_law = city_tax_0
				revoke_law = city_tax_1
				revoke_law = city_tax_2
				revoke_law = city_tax_3
			}
		}
		city_vassal_tax_modifier = 0.35
	}
	
	city_tax_3 = {
		group = city_tax
		city_opinion = -20
		
		potential = {
			OR = {
				NOT = { tier = baron }
				holder_scope = { is_patrician = yes }
			}
		}
		revoke_allowed = {
			always = no
		}			
		ai_will_do = {
			factor = 0
		}
		ai_will_revoke = {
			factor = 0
		}
		effect = {
			hidden_tooltip = {
				revoke_law = city_tax_0
				revoke_law = city_tax_1
				revoke_law = city_tax_2
				revoke_law = city_tax_3
			}
		}
		
		city_vassal_tax_modifier = 0.45
	}
	
	# TEMPLE VASSAL LEVY SIZE LAWS
	##############################
	
	temple_contract_0 = {
		group = temple_contract
		temple_opinion = 10
		potential = {
			OR = {
				NOT = { tier = baron }
				holder_scope = { is_patrician = yes }
			}
			#NOT = { holder_scope = { religion_group = muslim } }
		}
		revoke_allowed = {
			always = no
		}			
		ai_will_do = {
			factor = 0
		}
		ai_will_revoke = {
			factor = 0
		}
		effect = {
			hidden_tooltip = {
				revoke_law = temple_contract_0
				revoke_law = temple_contract_1
				revoke_law = temple_contract_2
				revoke_law = temple_contract_3
			}
		}
		
		temple_vassal_max_levy = -0.5
		
	}

	temple_contract_1 = {
		group = temple_contract
		temple_opinion = 0
		default = yes
		
		potential = {
			OR = {
				NOT = { tier = baron }
				holder_scope = { is_patrician = yes }
			}
			#NOT = { holder_scope = { religion_group = muslim } }
		}
		revoke_allowed = {
			always = no
		}			
		ai_will_do = {
			factor = 1
		}
		ai_will_revoke = {
			factor = 0
		}
		effect = {
			hidden_tooltip = {
				revoke_law = temple_contract_0
				revoke_law = temple_contract_1
				revoke_law = temple_contract_2
				revoke_law = temple_contract_3
			}
		}
		temple_vassal_max_levy = -0.4
	}
	
	temple_contract_2 = {
		group = temple_contract
		temple_opinion = -10
		potential = {
			OR = {
				NOT = { tier = baron }
				holder_scope = { is_patrician = yes }
			}
			#NOT = { holder_scope = { religion_group = muslim } }
		}
		revoke_allowed = {
			always = no
		}			
		ai_will_do = {
			factor = 0
		}
		ai_will_revoke = {
			factor = 0
		}
		effect = {
			hidden_tooltip = {
				revoke_law = temple_contract_0
				revoke_law = temple_contract_1
				revoke_law = temple_contract_2
				revoke_law = temple_contract_3
			}
		}
		temple_vassal_max_levy = -0.3
	}
	
	temple_contract_3 = {
		group = temple_contract
		temple_opinion = -20
		potential = {
			OR = {
				NOT = { tier = baron }
				holder_scope = { is_patrician = yes }
			}
			#NOT = { holder_scope = { religion_group = muslim } }
		}
		revoke_allowed = {
			always = no
		}			
		ai_will_do = {
			factor = 0
		}
		ai_will_revoke = {
			factor = 0
		}
		effect = {
			hidden_tooltip = {
				revoke_law = temple_contract_0
				revoke_law = temple_contract_1
				revoke_law = temple_contract_2
				revoke_law = temple_contract_3
			}
		}
		temple_vassal_max_levy = -0.2
	}
	
	
	
	# TEMPLE VASSAL TAX SIZE LAWS
	##############################
	
	temple_tax_0 = {
		group = temple_tax
		temple_opinion = 20
		potential = {
			OR = {
				NOT = { tier = baron }
				holder_scope = { is_patrician = yes }
			}
			#NOT = { holder_scope = { religion_group = muslim } }
		}
		revoke_allowed = {
			always = no
		}			
		ai_will_do = {
			factor = 0
		}
		ai_will_revoke = {
			factor = 0
		}
		effect = {
			hidden_tooltip = {
				revoke_law = temple_tax_0
				revoke_law = temple_tax_1
				revoke_law = temple_tax_2
				revoke_law = temple_tax_3
			}
		}
		
		temple_vassal_tax_modifier = 0.0
		
	}

	temple_tax_1 = {
		group = temple_tax
		temple_opinion = 0
		default = yes
		
		potential = {
			OR = {
				NOT = { tier = baron }
				holder_scope = { is_patrician = yes }
			}
			#NOT = { holder_scope = { religion_group = muslim } }
		}
		revoke_allowed = {
			always = no
		}			
		ai_will_do = {
			factor = 1
		}
		ai_will_revoke = {
			factor = 0
		}
		effect = {
			hidden_tooltip = {
				revoke_law = temple_tax_0
				revoke_law = temple_tax_1
				revoke_law = temple_tax_2
				revoke_law = temple_tax_3
			}
		}
		temple_vassal_tax_modifier = 0.35
	}
	
	temple_tax_2 = {
		group = temple_tax
		temple_opinion = -10
		potential = {
			OR = {
				NOT = { tier = baron }
				holder_scope = { is_patrician = yes }
			}
			#NOT = { holder_scope = { religion_group = muslim } }
		}
		revoke_allowed = {
			always = no
		}			
		ai_will_do = {
			factor = 0
		}
		ai_will_revoke = {
			factor = 0
		}
		effect = {
			hidden_tooltip = {
				revoke_law = temple_tax_0
				revoke_law = temple_tax_1
				revoke_law = temple_tax_2
				revoke_law = temple_tax_3
			}
		}
		temple_vassal_tax_modifier = 0.45
	}
	
	temple_tax_3 = {
		group = temple_tax
		temple_opinion = -20
		potential = {
			OR = {
				NOT = { tier = baron }
				holder_scope = { is_patrician = yes }
			}
			#NOT = { holder_scope = { religion_group = muslim } }
		}
		revoke_allowed = {
			always = no
		}			
		ai_will_do = {
			factor = 0
		}
		ai_will_revoke = {
			factor = 0
		}
		effect = {
			hidden_tooltip = {
				revoke_law = temple_tax_0
				revoke_law = temple_tax_1
				revoke_law = temple_tax_2
				revoke_law = temple_tax_3
			}
		}
		temple_vassal_tax_modifier = 0.55
	}
	
}
#########################################
###DYNASTY DECISIONS
#########################################
# Targetted decisions are possible vs _all_ other characters and shown are in the Diplomacy View, not the Intrigue View. The taker is in the FROM scope.
#
# filter = [self/court/home_court/vassals/sub_realm/realm/dynasty/all] ('self' MUST be set for decisions targetting only the taker, the other filter types can be set to lessen CPU load)
# ai_target_filter = [self/court/home_court/vassals/sub_realm/realm/dynasty/all] (which characters for which the AI evaluates the decision.)
#	court: all characters in the AI's host court, including prisoners, and characters currently away (wards, prisoners, etc)
#	home_court: all characters in the AI's home court, including prisoners, and characters currently away (wards, prisoners, etc)
#	vassals: direct vassal rulers of the AI's employer
#	sub_realm: all characters below the AI's employer
#	realm: all characters in the same top realm as the AI
#	dynasty: all members of the same dynasty
#	rivals: your rivals plus any character you have an opinion modifier with 'crime = yes' set (the same set of characters the 'is_foe' trigger evaluates)
#	all: all living characters (Avoid if possible. VERY CPU-HEAVY!)
#	

targetted_decisions = {

	commit_suicide = {
		filter = self
		ai_target_filter = self
		potential = {
			ai = no
			is_adult = yes
			trait = depressed
		}
		allow = {
			trait = depressed
		}
		effect = {
			prestige = -200
			death = { death_reason = death_suicide }
		}
		revoke_allowed = {
			always = no
		}
		ai_will_do = {
			factor = 0
		}
	}

	legitimize_bastard = {
		filter = dynasty
		ai_target_filter = dynasty
	
		from_potential = {
			ai = no
			is_playable = yes
			has_polygamy = no
		}
		
		potential = {
			trait = bastard
			is_child_of = FROM
			is_liege_or_above = FROM
		}
		allow = {
			FROM = {
				piety = 20
			}
		}
		effect = {
			dynasty = FROM
			remove_trait = bastard
			add_trait = legit_bastard
			recalc_succession = yes
			FROM = { piety = -20 }
			if = {
				limit = {
					prisoner = yes
					host = { character = FROM }
				}
				imprison = no
			}
			
			mother = {
				opinion = {
					who = FROM
					modifier = legitimized_child
					years = 10
				}
			}
			FROM = {
				spouse = {
					if = {
						limit = {
							NOT = {
								any_child = {
									character = ROOT
								}	
							}
						}
						opinion = {
							who = FROM
							modifier = legitimized_bastard
							years = 20
						}
					}
				}
				any_child = {
					limit = {
						NOT = { character = ROOT }
						dynasty = FROM
						NOT = { trait = bastard }
					}
					opinion = {
						who = FROM
						modifier = legitimized_bastard
						months = 12
					}
				}
			}
		}
		
		revoke_allowed = {
			always = no
		}
		ai_will_do = {
			factor = 0
		}
	}
	
	send_child_into_hiding = {
		is_high_prio = yes
		
		filter = dynasty
		ai_target_filter = dynasty
	
		from_potential = {
			is_ruler = yes
			has_regent = no
			OR = {
				ai = no
				OR = {
					trait = amateurish_plotter
					trait = flamboyant_schemer
					trait = intricate_webweaver
					trait = elusive_shadow
				}
			}
		}
		
		potential = {
			is_ruler = no
			liege = { character = FROM }
			NOT = { is_plot_target_of = FROM }
			OR = {
				father = { character = FROM }
				mother = { character = FROM }
			}
			OR = {
				is_female = no
				is_primary_heir = yes
				AND = {
					is_female = yes
					FROM = { has_law = true_cognatic_succession }
				}
			}
			NOT = { has_character_modifier = went_out_of_hiding_timer }
			NOT = { has_character_flag = do_not_disturb }
		}
		
		allow = {
			in_command = no
			prisoner = no
			has_job_title = no
			custom_tooltip = {
				text = is_target_of_murder_plot_tooltip
				hidden_tooltip = {
					OR = {
						has_character_modifier = suspected_murder_plot
						FROM = {
							any_known_plotter = {
								target = PREV
								OR = {
									has_plot = plot_kill_character
									has_plot = plot_kill_spouse
								}
							}
						}
					}
				}
			}
			custom_tooltip = {
				text = recently_went_out_of_hiding_tooltip
				hidden_tooltip = {
					NOT = { has_character_modifier = went_out_of_hiding_timer }
				}
			}
		}
		effect = {
			custom_tooltip = { text = go_into_hiding_info_tooltip }
			add_trait = in_hiding
			set_character_flag = do_not_disturb
			hidden_tooltip = {
				ROOT = {
					any_plotter = {
						target = ROOT
						limit = {
							NOT = { has_character_flag = murder_in_motion }
							NOT = { character = FROM }
							OR = {
								has_plot = plot_kill_character
								has_plot = plot_kill_spouse
							}
						}
						character_event = { id = CM.6004 }
					}
				}
				ROOT = {
					any_plotter = {
						target = ROOT
						limit = {
							has_character_flag = murder_in_motion
							OR = {
								has_plot = plot_kill_character
								has_plot = plot_kill_spouse
							}
						}
						character_event = { id = CM.6180 }
					}
				}
				ROOT = {
					any_plotter = {
						target = ROOT
						limit = {
							OR = {
								has_plot = plot_kill_character
								has_plot = plot_kill_spouse
							}
						}
						any_plot_backer = {
							character_event = { id = CM.6004 }
						}
					}
				}
				father = {
					if = {
						limit = {
							NOT = { character = FROM }
							NOT = { plot_target_char = { character = ROOT } }
							NOT = { any_backed_character = { plot_target_char = { character = ROOT } } }
							NOT = { is_rival = ROOT }
						}
						character_event = { id = CM.6004 }
					}
				}
				mother = {
					if = {
						limit = {
							NOT = { character = FROM }
							NOT = { plot_target_char = { character = ROOT } }
							NOT = { any_backed_character = { plot_target_char = { character = ROOT } } }
							NOT = { is_rival = ROOT }
						}
						character_event = { id = CM.6004 }
					}
				}
				any_sibling = {
					limit = {
						NOT = { plot_target_char = { character = ROOT } }
						NOT = { any_backed_character = { plot_target_char = { character = ROOT } } }
						NOT = { is_rival = ROOT }
					}
					character_event = { id = CM.6004 }
				}
				any_rival = {
					limit = {
						NOT = { character = FROM }
						NOT = { plot_target_char = { character = ROOT } }
						NOT = { any_backed_character = { plot_target_char = { character = ROOT } } }
					}
					character_event = { id = CM.6004 }
				}
			}
		}
		
		revoke_allowed = {
			always = no
		}
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0.1
			}
			modifier = {
				factor = 0.5
				NOT = { 
					FROM = { 
						trait = in_hiding 
					} 
				}
			}
			modifier = {
				factor = 0.5
				NOT = {
					reverse_opinion = {
						who = FROM
						value = -24
					}
				}
			}
			modifier = {
				factor = 1.5
				reverse_opinion = {
					who = FROM
					value = 25
				}
			}
			modifier = {
				factor = 5
				FROM = { trait = in_hiding }
			}
			modifier = {
				factor = 10
				FROM = { trait = paranoid }
			}					
		}
	}
	
	take_child_out_of_hiding = {
		is_high_prio = yes
		
		filter = dynasty
		ai_target_filter = dynasty
	
		from_potential = {
			is_ruler = yes
			has_regent = no
		}
		
		potential = {
			trait = in_hiding
			is_ruler = no
			liege = { character = FROM }
			OR = {
				father = { character = FROM }
				mother = { character = FROM }
			}
			prisoner = no
		}
		
		allow = {
			trait = in_hiding
		}
		effect = {
			custom_tooltip = { text = come_out_of_hiding_info_tooltip }
			remove_trait = in_hiding
			clr_character_flag = do_not_disturb
			add_character_modifier = {
				name = went_out_of_hiding_timer
				duration = 180
				hidden = yes
			}
			hidden_tooltip = {
				ROOT = {
					any_plotter = {
						target = ROOT
						limit = {
							NOT = { character = FROM }
							OR = {
								has_plot = plot_kill_character
								has_plot = plot_kill_spouse
							}
						}
						character_event = { id = CM.6005 }
					}
				}
				father = {
					if = {
						limit = {
							NOT = { character = FROM }
						}
						character_event = { id = CM.6005 }
					}
				}
				mother = {
					if = {
						limit = {
							NOT = { character = FROM }
						}
						character_event = { id = CM.6005 }
					}
				}
				any_sibling = {
					limit = {
						ROOT = {
							NOT = { is_plot_target_of = THIS }
						}
					}
					character_event = { id = CM.6005 }
				}
			}
		}
		
		revoke_allowed = {
			always = no
		}
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0.1
				FROM = { trait = paranoid }
			}
			modifier = {
				factor = 0
				OR = {
					has_character_modifier = suspected_murder_plot
					FROM = {
						any_known_plotter = {
							target = PREV
							OR = {
								has_plot = plot_kill_character
								has_plot = plot_kill_spouse
							}
						}
					}
				}
			}		
		}
	}
	
	go_into_hiding = {
		is_high_prio = yes
		
		filter = self
		ai_target_filter = self
		
		potential = {
			is_ruler = yes
			NOT = { trait = in_hiding }
			NOT = { has_character_flag = do_not_disturb }
			OR = {
				ai = no
				OR = {
					trait = amateurish_plotter
					trait = flamboyant_schemer
					trait = intricate_webweaver
					trait = elusive_shadow
				}
			}
		}
		allow = {
			in_command = no
			prisoner = no
			has_job_title = no
			custom_tooltip = {
				text = is_target_of_murder_plot_tooltip
				hidden_tooltip = {
					OR = {
						has_character_modifier = suspected_murder_plot
						any_known_plotter = {
							target = ROOT
							OR = {
								has_plot = plot_kill_character
								has_plot = plot_kill_spouse
							}
						}
					}
				}
			}
			custom_tooltip = {
				text = recently_went_out_of_hiding_tooltip
				hidden_tooltip = {
					NOT = { has_character_modifier = went_out_of_hiding_timer }
				}
			}
		}
		effect = {
			set_character_flag = do_not_disturb
			custom_tooltip = { text = go_into_hiding_info_tooltip }
			add_trait = in_hiding
			hidden_tooltip = {                    # Notify player and close family and plotters
				ROOT = {
					any_plotter = {
						target = ROOT
						limit = {
							NOT = { has_character_flag = murder_in_motion }
							OR = {
								has_plot = plot_kill_character
								has_plot = plot_kill_spouse
							}
						}
						character_event = { id = CM.6000 }
					}
					any_plotter = {
						target = ROOT
						limit = {
							has_character_flag = murder_in_motion
							OR = {
								has_plot = plot_kill_character
								has_plot = plot_kill_spouse
							}
						}
						character_event = { id = CM.6180 }
					}
					any_plotter = {
						target = ROOT
						limit = {
							OR = {
								has_plot = plot_kill_character
								has_plot = plot_kill_spouse
							}
						}
						any_plot_backer = {
							character_event = { id = CM.6000 }
						}
					}
				}
				any_spouse = {
					limit = {
						NOT = { plot_target_char = { character = ROOT } }
						NOT = { any_backed_character = { plot_target_char = { character = ROOT } } }
						NOT = { is_rival = ROOT }
					}
					character_event = { id = CM.6000 }
				}
				any_child = {
					limit = {
						NOT = { plot_target_char = { character = ROOT } }
						NOT = { any_backed_character = { plot_target_char = { character = ROOT } } }
						NOT = { is_rival = ROOT }
					}
					character_event = { id = CM.6000 }
				}
				any_lover = {
					limit = {
						NOT = { plot_target_char = { character = ROOT } }
						NOT = { any_backed_character = { plot_target_char = { character = ROOT } } }
						NOT = { is_rival = ROOT }
						NOT = { spouse = { character = ROOT } }
					}
					character_event = { id = CM.6000 }
				}
				any_sibling = {
					limit = {
						ROOT = {
							NOT = { is_plot_target_of = THIS }
							NOT = { any_backed_character = { plot_target_char = { character = ROOT } } }
							NOT = { is_rival = THIS }
						}
					}
					character_event = { id = CM.6000 }
				}
				any_rival = {
					limit = {
						NOT = { plot_target_char = { character = ROOT } }
						NOT = { any_backed_character = { plot_target_char = { character = ROOT } } }
					}
					character_event = { id = CM.6000 }
				}
			}
		}
		revoke_allowed = {
			always = no
		}
		ai_will_do = {
			factor = 1 
			
			modifier = {
				factor = 0
				ROOT = {
					any_plotter = {
						target = ROOT
						is_primary_heir = yes
						ai = no
					}
				}
			}
			modifier = {
				factor = 0.1
			}
			modifier = {
				factor = 0.1
				age = 65
			}
			modifier = {
				factor = 0.1
				trait = brave
			}
			modifier = {
				factor = 2
				trait = depressed
			}
			modifier = {
				factor = 5
				trait = craven
			}
			modifier = {
				factor = 10
				trait = paranoid
			}
		}
	}
	
	come_out_of_hiding = {
		is_high_prio = yes
		
		filter = self
		ai_target_filter = self
		
		potential = {
			is_ruler = yes
			trait = in_hiding
		}
		allow = {
			trait = in_hiding
			OR = {
				OR = {
					age = 16
					NOT = {	trait = incapable }
				}
				regent = {
					NOT = { trait = deceitful }
					NOT = { trait = ambitious }
					NOT = { is_rival = ROOT }
				}
			}
		}
		effect = {
			add_character_modifier = {
				name = went_out_of_hiding_timer
				duration = 180
				hidden = yes
			}
			clr_character_flag = do_not_disturb
			custom_tooltip = { text = come_out_of_hiding_info_tooltip }
			remove_trait = in_hiding
			hidden_tooltip = {                    # Notify player and close family and plotters
				ROOT = {
					any_plotter = {
						target = ROOT
						limit = {
							OR = {
								has_plot = plot_kill_character
								has_plot = plot_kill_spouse
							}
						}
						character_event = { id = CM.6001 }
					}
				}
				any_spouse = {
					limit = {
						ROOT = {
							NOT = { is_plot_target_of = THIS }
						}
					}
					character_event = { id = CM.6001 }
				}
				any_child = {
					limit = {
						ROOT = {
							NOT = { is_plot_target_of = THIS }
						}
					}
					character_event = { id = CM.6001 }
				}
				any_lover = {
					limit = {
						ROOT = {
							NOT = { is_plot_target_of = THIS }
						}
						NOT = { spouse = { character = ROOT } }
					}
					character_event = { id = CM.6001 }
				}
				any_sibling = {
					limit = {
						ROOT = {
							NOT = { is_plot_target_of = THIS }
						}
					}
					character_event = { id = CM.6001 }
				}
				any_rival = {
					limit = {
						ROOT = {
							NOT = { is_plot_target_of = THIS }
						}
					}
					character_event = { id = CM.6001 }
				}
			}
		}
		revoke_allowed = {
			always = no
		}
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0.1
				trait = paranoid
			}
			modifier = {
				factor = 0
				NOT = {
					ROOT = {
						any_plotter = {
							target = ROOT
							is_primary_heir = yes
							ai = no
						}
					}
				}
				OR = {
					has_character_modifier = suspected_murder_plot
					any_known_plotter = {
						target = ROOT
						OR = {
							has_plot = plot_kill_character
							has_plot = plot_kill_spouse
						}
					}
				}
			}
		}
	}

	send_spouse_into_hiding = {
		is_high_prio = yes
		
		filter = spouse
		ai_target_filter = spouse
		
		from_potential = {
			is_ruler = yes
			has_regent = no
			OR = {
				ai = no
				OR = {
					trait = amateurish_plotter
					trait = flamboyant_schemer
					trait = intricate_webweaver
					trait = elusive_shadow
				}
			}
		}
		
		potential = {
			is_ruler = no
			is_married = FROM
			liege = { character = FROM }
			NOT = { 
				is_plot_target_of = FROM 
				FROM = {
					OR = {
						has_plot = plot_kill_character
						has_plot = plot_kill_spouse
					}
				}
			}
			NOT = { has_character_modifier = went_out_of_hiding_timer }
			NOT = { has_character_flag = do_not_disturb }
		}
		
		allow = {
			in_command = no
			prisoner = no
			has_job_title = no
			NOT = { is_ruler = yes }
			OR = {
				custom_tooltip = {
					text = is_target_of_murder_plot_tooltip
					hidden_tooltip = {
						OR = {
							has_character_modifier = suspected_murder_plot
							FROM = {
								any_known_plotter = {
									target = PREV
									OR = {
										has_plot = plot_kill_character
										has_plot = plot_kill_spouse
									}
								}
							}
						}
					}
				}
			}
			custom_tooltip = {
				text = recently_went_out_of_hiding_tooltip
				hidden_tooltip = {
					NOT = { has_character_modifier = went_out_of_hiding_timer }
				}
			}
		}
		
		effect = {
			set_character_flag = do_not_disturb
			custom_tooltip = { text = go_into_hiding_info_tooltip }
			add_trait = in_hiding
			hidden_tooltip = {                    # Notify player and close family and plotters
				ROOT = {
					any_plotter = {
						target = ROOT
						limit = {
							NOT = { has_character_flag = murder_in_motion }
							OR = {
								has_plot = plot_kill_character
								has_plot = plot_kill_spouse
							}
						}
						character_event = { id = CM.6002 }
					}
				}
				ROOT = {
					any_plotter = {
						target = ROOT
						limit = {
							has_character_flag = murder_in_motion
							OR = {
								has_plot = plot_kill_character
								has_plot = plot_kill_spouse
							}
						}
						character_event = { id = CM.6180 }
					}
				}
				ROOT = {
					any_plotter = {
						target = ROOT
						limit = {
							OR = {
								has_plot = plot_kill_character
								has_plot = plot_kill_spouse
							}
						}
						any_plot_backer = {
							character_event = { id = CM.6002 }
						}
					}
				}
				any_child = {
					limit = {
						NOT = { plot_target_char = { character = ROOT } }
						NOT = { any_backed_character = { plot_target_char = { character = ROOT } } }
						NOT = { is_rival = ROOT }
					}
					character_event = { id = CM.6002 }
				}
				any_lover = {
					limit = {
						NOT = { plot_target_char = { character = ROOT } }
						NOT = { any_backed_character = { plot_target_char = { character = ROOT } } }
						NOT = { is_rival = ROOT }
						NOT = { spouse = { character = ROOT } }
					}
					character_event = { id = CM.6002 }
				}
				any_sibling = {
					limit = {
						NOT = { plot_target_char = { character = ROOT } }
						NOT = { any_backed_character = { plot_target_char = { character = ROOT } } }
						NOT = { is_rival = ROOT }
					}
					character_event = { id = CM.6002 }
				}
				any_rival = {
					limit = {
						NOT = { spouse = { character = PREV } }
						NOT = { plot_target_char = { character = ROOT } }
						NOT = { any_backed_character = { plot_target_char = { character = ROOT } } }
					}
					character_event = { id = CM.6002 }
				}
			}
		}
		revoke_allowed = {
			always = no
		}
		ai_will_do = {
			factor = 1 
			
			modifier = {
				factor = 0.1
			}
			modifier = {
				factor = 0.1
				spouse = {
					age = 65
				}
			}
			modifier = {
				factor = 0.1
				spouse = { 
					trait = pregnant 
					NOT = {
						father_of_unborn = {
							character = ROOT
						}
					}
				}
			}
			modifier = {
				factor = 0.5
				NOT = { 
					FROM = { 
						trait = in_hiding 
					} 
				}
			}
			modifier = {
				factor = 0.5
				NOT = {
					opinion = {
						who = spouse
						value = -24
					}
				}
			}
			modifier = {
				factor = 1.5
				opinion = {
					who = spouse
					value = 25
				}
			}
			modifier = {
				factor = 5
				trait = in_hiding
			}
			modifier = {
				factor = 10
				trait = paranoid
			}
			modifier = {
				factor = 10
				spouse = { 
					trait = pregnant 
					father_of_unborn = {
						character = ROOT
					}
				}
			}
		}
	}

	take_spouse_out_of_hiding = {
		is_high_prio = yes
		
		filter = spouse
		ai_target_filter = spouse
		
		from_potential = {
			is_ruler = yes
			has_regent = no
		}
		
		potential = {
			trait = in_hiding
			is_ruler = no
			is_married = FROM
			liege = { character = FROM }
			prisoner = no
		}
		
		allow = {
			trait = in_hiding
		}
		
		effect = {
			add_character_modifier = {
				name = went_out_of_hiding_timer
				duration = 180
				hidden = yes
			}
			clr_character_flag = do_not_disturb
			custom_tooltip = { text = come_out_of_hiding_info_tooltip }
			remove_trait = in_hiding
			hidden_tooltip = {                    # Notify player and close family and plotters
				ROOT = {
					any_plotter = {
						target = ROOT
						limit = {
							spouse = { NOT = { character = PREV } }
							OR = {
								has_plot = plot_kill_character
								has_plot = plot_kill_spouse
							}
						}
						character_event = { id = CM.6003 }
					}
				}
				any_child = {
					limit = {
						ROOT = {
							NOT = { is_plot_target_of = THIS }
						}
					}
					character_event = { id = CM.6003 }
				}
				any_lover = {
					limit = {
						PREV = {
							NOT = { is_plot_target_of = THIS }
						}
						NOT = { spouse = { character = PREV } }
					}
					character_event = { id = CM.6003 }
				}
				any_sibling = {
					limit = {
						ROOT = {
							NOT = { is_plot_target_of = THIS }
						}
					}
					character_event = { id = CM.6003 }
				}
				any_rival = {
					limit = {
						spouse = { NOT = { character = PREV } }
						ROOT = {
							NOT = { is_plot_target_of = THIS }
						}
					}
					character_event = { id = CM.6003 }
				}
			}
		}
		revoke_allowed = {
			always = no
		}
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0.1
				trait = paranoid
			}
			modifier = {
				factor = 0
				spouse = {
					OR = {
						has_character_modifier = suspected_murder_plot
						FROM = {
							any_known_plotter = {
								target = PREV
								OR = {
									has_plot = plot_kill_character
									has_plot = plot_kill_spouse
								}
							}
						}
					}
				}
			}			
		}
	}
	
}
############################
###FACTION DECISIONS
#############################

plot_decisions = {

	faction_succ_seniority_ultimatum = {
		is_high_prio = yes
		
		potential = {
			leads_faction = faction_succ_seniority
			OR = {
				NOT = { has_character_flag = faction_succ_seniority_ultimatum_taken}
				had_character_flag = { flag = faction_succ_seniority_ultimatum_taken days = 7 }
			}
		}
		allow = {
			war = no
			prisoner = no
			liege = {
				NOT = { war_with = ROOT }
				NOT = { reverse_has_truce = ROOT }
			}
			capital_holding = {
				controller = {
					character = ROOT
				}
			}
		}
		effect = {
			liege = {
				letter_event = { id = 8005 days = 3 tooltip = "EVTTOOLTIP8005" }
			}
			hidden_tooltip = {
				set_character_flag = faction_succ_seniority_ultimatum_taken
			}
		}
		revoke_allowed = {
			always = no
		}
		
		ai_will_do = {
			factor = 1
			
			modifier = {
				factor = 0.5 # Slow it down a bit
			}
			
			modifier = {
				factor = 0
				NOT = { 
					faction_power = 
					{
						faction = faction_succ_seniority
						power = 0.75
					}
				}
			}			
			modifier = {
				factor = 0.1
				NOT = { 
					faction_power = 
					{
						faction = faction_succ_seniority
						power = 1.0
					}
				}
			}
			modifier = {
				factor = 0.1
				NOT = { 
					faction_power = 
					{
						faction = faction_succ_seniority
						power = 1.5
					}
				}
			}			
			
			modifier = {
				factor = 0
				liege = {
					any_war = {
						OR = {
							AND = {
								defender = { character = PREV }
								NOT = { using_cb = depose_liege }
								NOT = { using_cb = overthrow_ruler }
								NOT = { using_cb = overthrow_ruler_no_calls }
								NOT = { using_cb = succession_on_liege }
								NOT = { using_cb = other_succession_on_liege }
							}
							AND = {
								attacker = { character = PREV }
								OR = {
									using_cb = invasion
									using_cb = religious
									using_cb = tribal_invasion
									using_cb = muslim_invasion
									using_cb = viking_invasion
									using_cb = claim_all
									using_cb = claim
									using_cb = other_claim
								}
							}
						}
					}
				}
			}
		}
	}
	
	faction_succ_primogeniture_ultimatum = {
		is_high_prio = yes
		
		potential = {
			leads_faction = faction_succ_primogeniture
			OR = {
				NOT = { has_character_flag = faction_succ_primogeniture_ultimatum_taken }
				had_character_flag = { flag = faction_succ_primogeniture_ultimatum_taken days = 7 }
			}
		}
		allow = {
			war = no
			prisoner = no
			liege = {
				NOT = { war_with = ROOT }
				NOT = { reverse_has_truce = ROOT }
			}
			capital_holding = {
				controller = {
					character = ROOT
				}
			}
		}
		effect = {
			liege = {
				letter_event = { id = 8010 days = 3 tooltip = "EVTTOOLTIP8005" }
			}
			hidden_tooltip = {
				set_character_flag = faction_succ_primogeniture_ultimatum_taken
			}
		}
		revoke_allowed = {
			always = no
		}
		
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0.1
				NOT = { 
					faction_power = 
					{
						faction = faction_succ_primogeniture
						power = 1.0
					}
				}
			}
			modifier = {
				factor = 0.1
				NOT = { 
					faction_power = 
					{
						faction = faction_succ_primogeniture
						power = 1.5
					}
				}
			}					
			modifier = {
				factor = 0
				NOT = { 
					faction_power = 
					{
						faction = faction_succ_primogeniture
						power = 0.75
					}
				}
			}
			
			modifier = {
				factor = 0.5 # Slow it down a bit
			}
			
			modifier = {
				factor = 0
				liege = {
					any_war = {
						OR = {
							AND = {
								defender = { character = PREV }
								NOT = { using_cb = depose_liege }
								NOT = { using_cb = overthrow_ruler }
								NOT = { using_cb = overthrow_ruler_no_calls }
								NOT = { using_cb = succession_on_liege }
								NOT = { using_cb = other_succession_on_liege }
							}
							AND = {
								attacker = { character = PREV }
								OR = {
									using_cb = invasion
									using_cb = religious
									using_cb = tribal_invasion
									using_cb = muslim_invasion
									using_cb = viking_invasion
									using_cb = claim_all
									using_cb = claim
									using_cb = other_claim
								}
							}
						}
					}
				}
			}
		}
	}
	
	faction_succ_feudal_elective_ultimatum = {
		is_high_prio = yes
		
		potential = {
			leads_faction = faction_succ_feudal_elective
			
			OR = {
				NOT = { has_character_flag = faction_succ_feudal_elective_ultimatum_taken }
				had_character_flag = { flag = faction_succ_feudal_elective_ultimatum_taken days = 7 }
			}
		}
		allow = {
			war = no
			prisoner = no
			liege = {
				NOT = { war_with = ROOT }
				NOT = { reverse_has_truce = ROOT }
			}
			capital_holding = {
				controller = {
					character = ROOT
				}
			}
		}
		effect = {
			liege = {
				letter_event = { id = 8015 days = 3 tooltip = "EVTTOOLTIP8005" }
			}
			hidden_tooltip = {
				set_character_flag = faction_succ_feudal_elective_ultimatum_taken
			}
		}
		revoke_allowed = {
			always = no
		}
		
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0.1
				NOT = { 
					faction_power = 
					{
						faction = faction_succ_feudal_elective
						power = 1.0
					}
				}
			}	
			modifier = {
				factor = 0.1
				NOT = { 
					faction_power = 
					{
						faction = faction_succ_feudal_elective
						power = 1.5
					}
				}
			}				
			modifier = {
				factor = 0
				NOT = { 
					faction_power = 
					{
						faction = faction_succ_feudal_elective
						power = 0.75
					}
				}
			}
			
			modifier = {
				factor = 0.5 # Slow it down a bit
			}
			
			modifier = {
				factor = 0
				liege = {
					any_war = {
						OR = {
							AND = {
								defender = { character = PREV }
								NOT = { using_cb = depose_liege }
								NOT = { using_cb = overthrow_ruler }
								NOT = { using_cb = overthrow_ruler_no_calls }
								NOT = { using_cb = succession_on_liege }
								NOT = { using_cb = other_succession_on_liege }
							}
							AND = {
								attacker = { character = PREV }
								OR = {
									using_cb = invasion
									using_cb = religious
									using_cb = tribal_invasion
									using_cb = muslim_invasion
									using_cb = viking_invasion
									using_cb = claim_all
									using_cb = claim
									using_cb = other_claim
								}
							}
						}
					}
				}
			}
		}
	}
	
	faction_succ_gavelkind_ultimatum = {
		is_high_prio = yes
		
		potential = {
			leads_faction = faction_succ_gavelkind
			OR = {
				NOT = { has_character_flag = faction_succ_gavelkind_ultimatum_taken }
				had_character_flag = { flag = faction_succ_gavelkind_ultimatum_taken days = 7 }
			}
		}
		allow = {
			war = no
			prisoner = no
			liege = {
				NOT = { war_with = ROOT }
				NOT = { reverse_has_truce = ROOT }
			}
			capital_holding = {
				controller = {
					character = ROOT
				}
			}
		}
		effect = {
			liege = {
				letter_event = { id = 8020 days = 3 tooltip = "EVTTOOLTIP8005" }
			}
			hidden_tooltip = {
				set_character_flag = faction_succ_gavelkind_ultimatum_taken
			}
		}
		revoke_allowed = {
			always = no
		}
		
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				NOT = { 
					faction_power = 
					{
						faction = faction_succ_gavelkind
						power = 0.75
					}
				}
			}			
			modifier = {
				factor = 0.1
				NOT = { 
					faction_power = 
					{
						faction = faction_succ_gavelkind
						power = 1.0
					}
				}
			}
			modifier = {
				factor = 0.1
				NOT = { 
					faction_power = 
					{
						faction = faction_succ_gavelkind
						power = 1.5
					}
				}
			}			
			
			modifier = {
				factor = 0.5 # Slow it down a bit
			}
			
			modifier = {
				factor = 0
				liege = {
					any_war = {
						OR = {
							AND = {
								defender = { character = PREV }
								NOT = { using_cb = depose_liege }
								NOT = { using_cb = overthrow_ruler }
								NOT = { using_cb = overthrow_ruler_no_calls }
								NOT = { using_cb = succession_on_liege }
								NOT = { using_cb = other_succession_on_liege }
							}
							AND = {
								attacker = { character = PREV }
								OR = {
									using_cb = invasion
									using_cb = religious
									using_cb = tribal_invasion
									using_cb = muslim_invasion
									using_cb = viking_invasion
									using_cb = claim_all
									using_cb = claim
									using_cb = other_claim
								}
							}
						}
					}
				}
			}
		}
	}
	
	faction_lower_crown_authority_ultimatum = {
		is_high_prio = yes
		
		potential = {
			leads_faction = faction_lower_crown_authority
			OR = {
				NOT = { has_character_flag = faction_lower_CA_ultimatum_taken }
				had_character_flag = { flag = faction_lower_CA_ultimatum_taken days = 7 }
			}
		}
		allow = {
			war = no
			prisoner = no
			liege = {
				NOT = { war_with = ROOT }
				NOT = { reverse_has_truce = ROOT }
			}
			capital_holding = {
				controller = {
					character = ROOT
				}
			}
		}
		
		effect = {
			liege = {
				if = {
					limit = {
						has_regent = no
					}
					letter_event = { id = 8025 days = 3 tooltip = EVTTOOLTIP8005 }
				}
				if = {
					limit = {
						has_regent = yes
					}
					letter_event = { id = 8026 days = 3 tooltip = EVTTOOLTIP8005 }
				}
			}
			hidden_tooltip = {
				set_character_flag = faction_lower_CA_ultimatum_taken
			}
		}
		revoke_allowed = {
			always = no
		}
		
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				NOT = { 
					faction_power = 
					{
						faction = faction_lower_crown_authority
						power = 0.75
					}
				}
			}			
			modifier = {
				factor = 0.1
				NOT = { 
					faction_power = 
					{
						faction = faction_lower_crown_authority
						power = 1.0
					}
				}
			}
			modifier = {
				factor = 0.1
				NOT = { 
					faction_power = 
					{
						faction = faction_lower_crown_authority
						power = 1.5
					}
				}
			}			
			
			modifier = {
				factor = 0.5 # Slow it down a bit
			}
			
			modifier = {
				factor = 0
				liege = {
					any_war = {
						OR = {
							AND = {
								defender = { character = PREV }
								NOT = { using_cb = depose_liege }
								NOT = { using_cb = overthrow_ruler }
								NOT = { using_cb = overthrow_ruler_no_calls }
								NOT = { using_cb = succession_on_liege }
								NOT = { using_cb = other_succession_on_liege }
							}
							AND = {
								attacker = { character = PREV }
								OR = {
									using_cb = invasion
									using_cb = religious
									using_cb = tribal_invasion
									using_cb = muslim_invasion
									using_cb = viking_invasion
									using_cb = claim_all
									using_cb = claim
									using_cb = other_claim
								}
							}
						}
					}
				}
			}
		}
	}
	
	faction_lower_tribal_organization_ultimatum = {
		is_high_prio = yes
		
		potential = {
			leads_faction = faction_lower_tribal_organization
			OR = {
				NOT = { has_character_flag = faction_lower_TO_ultimatum_taken }
				had_character_flag = { flag = faction_lower_TO_ultimatum_taken days = 7 }
			}
		}
		allow = {
			war = no
			prisoner = no
			liege = {
				NOT = { war_with = ROOT }
				NOT = { reverse_has_truce = ROOT }
			}
			capital_holding = {
				controller = {
					character = ROOT
				}
			}
		}
		
		effect = {
			liege = {
				if = {
					limit = {
						has_regent = no
					}
					letter_event = { id = 8027 days = 3 tooltip = EVTTOOLTIP8005 }
				}
				if = {
					limit = {
						has_regent = yes
					}
					letter_event = { id = 8031 days = 3 tooltip = EVTTOOLTIP8005 }
				}
			}
			hidden_tooltip = {
				set_character_flag = faction_lower_TO_ultimatum_taken
			}
		}
		revoke_allowed = {
			always = no
		}
		
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				NOT = { 
					faction_power = 
					{
						faction = faction_lower_tribal_organization
						power = 0.75
					}
				}
			}			
			modifier = {
				factor = 0.1
				NOT = { 
					faction_power = 
					{
						faction = faction_lower_tribal_organization
						power = 1.0
					}
				}
			}
			modifier = {
				factor = 0.1
				NOT = { 
					faction_power = 
					{
						faction = faction_lower_tribal_organization
						power = 1.5
					}
				}
			}			
			
			modifier = {
				factor = 0.5 # Slow it down a bit
			}
			
			modifier = {
				factor = 0
				liege = {
					any_war = {
						OR = {
							AND = {
								defender = { character = PREV }
								NOT = { using_cb = depose_liege }
								NOT = { using_cb = overthrow_ruler }
								NOT = { using_cb = overthrow_ruler_no_calls }
								NOT = { using_cb = succession_on_liege }
								NOT = { using_cb = other_succession_on_liege }
							}
							AND = {
								attacker = { character = PREV }
								OR = {
									using_cb = invasion
									using_cb = religious
									using_cb = tribal_invasion
									using_cb = muslim_invasion
									using_cb = viking_invasion
									using_cb = claim_all
									using_cb = claim
									using_cb = other_claim
								}
							}
						}
					}
				}
			}
		}
	}
	
	faction_independence_ultimatum = {
		is_high_prio = yes
		
		potential = {
			leads_faction = faction_independence
			OR = {
				NOT = { has_character_flag = faction_independence_ultimatum_taken }
				had_character_flag = { flag = faction_independence_ultimatum_taken days = 7 }
			}
			liege = {
				independent = yes
			}
		}
		allow = {
			war = no
			prisoner = no
			liege = {
				NOT = { war_with = ROOT }
				NOT = { reverse_has_truce = ROOT }
			}
			capital_holding = {
				controller = {
					character = ROOT
				}
			}
		}
		
		effect = {
			liege = {
				letter_event = { id = 8035 days = 3 tooltip = "EVTTOOLTIP8005" }
			}
			hidden_tooltip = {
				set_character_flag = faction_independence_ultimatum_taken
			}
		}
		revoke_allowed = {
			always = no
		}
		
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0.2 # Slow it down a bit
			}
			
			modifier = {
				factor = 0
				liege = {
					religion_group = ROOT
					any_war = {
						defender = { character = PREV }
						NOT = { attacker = { religion_group = ROOT } }
					}
				}
			}
			modifier = {
				factor = 0
				liege = {
					religion = ROOT
					any_war = {
						attacker = { character = PREV }
						NOT = { defender = { religion_group = ROOT } }
					}
				}
			}
			
			modifier = {
				factor = 0
				liege = {
					religion = ROOT					
					any_war = {
						OR = {
							AND = {
								defender = { character = PREV }
								OR = {
									using_cb = religious
									using_cb = muslim_invasion
									using_cb = viking_invasion
									using_cb = crusade
								}
							}
							AND = {
								attacker = { character = PREV }			
								using_cb = viking_invasion
							}
						}
					}
				}
			}			
			modifier = {
				factor = 0.1
				NOT = { 
					faction_power = 
					{
						faction = faction_independence
						power = 1.0
					}
				}
			}
			modifier = {
				factor = 0.1
				NOT = { 
					faction_power = 
					{
						faction = faction_independence
						power = 1.5
					}
				}
			}			
			modifier = {
				factor = 0
				NOT = { 
					faction_power = 
					{
						faction = faction_independence
						power = 0.75
					}
				}
			}
		}
	}
	
	faction_claimant_ultimatum = {
		is_high_prio = yes
		
		potential = {
			leads_faction = faction_claimant
			OR = {
				NOT = { has_character_flag = faction_claimant_ultimatum_taken }
				had_character_flag = { flag = faction_claimant_ultimatum_taken days = 7 }
			}
			liege = {
				in_revolt = no
				liege = {
					in_revolt = no
					liege = {
						in_revolt = no
					}
				}
			}
		}
		
		allow = {
			war = no
			prisoner = no
			liege = {
				NOT = { war_with = ROOT }
				NOT = { reverse_has_truce = ROOT }
			}
			capital_holding = {
				controller = {
					character = ROOT
				}
			}
		}
		effect = {
			liege = {
				letter_event = { id = 8036 days = 3 tooltip = "EVTTOOLTIP8005" }
			}
			if = {
				limit = {
					supported_claimant = {
						NOT = { character = ROOT }
						OR = {
							NOT = { same_liege = ROOT }
							NOT = { in_faction = faction_claimant }
							NOT = { supported_claimant = { character = PREV } }
						}
					}
				}
				supported_claimant = {
					letter_event = { id = 8037 days = 1 }
				}
			}
			hidden_tooltip = {
				set_character_flag = faction_claimant_ultimatum_taken
			}
		}
		revoke_allowed = {
			always = no
		}
		
		ai_will_do = {
			factor = 1
			
			modifier = {
				factor = 0
				NOT = { 
					faction_power = 
					{
						faction = faction_claimant
						power = 0.75
					}
				}
			}
			
			modifier = {
				factor = 0.1
				NOT = { 
					faction_power = 
					{
						faction = faction_claimant
						power = 1.0
					}
				}
			}	

			modifier = {
				factor = 0.1
				NOT = { 
					faction_power = 
					{
						faction = faction_claimant
						power = 1.5
					}
				}
			}			
			
			modifier = {
				factor = 0
				faction_claimant = {
					has_law = succ_feudal_elective
				}
				liege = {
					ROOT = {
						supported_claimant = {
							religion = PREVPREV
							culture = PREVPREV
						}
					}
				}
			}
			
			modifier = {
				factor = 0.5 # Slow it down a bit
			}
			
			modifier = {
				factor = 0
				supported_claimant = {
					any_war = {
						OR = {
							AND = {
								any_attacker = { character = PREV }
								any_attacker = { 
									ROOT = {
										liege = {
											character = PREVPREV
										} 
									}
								}
							}
							AND = {
								any_defender = { character = PREV }
								any_defender = { 
									ROOT = {
										liege = {
											character = PREVPREV
										} 
									}
								}
							}
						}
					}
				}
			}
			
			modifier = {
				factor = 0
				liege = {
					any_war = {
						OR = {
							AND = {
								defender = { character = PREV }
								NOT = { using_cb = depose_liege }
								NOT = { using_cb = overthrow_ruler }
								NOT = { using_cb = overthrow_ruler_no_calls }
								NOT = { using_cb = succession_on_liege }
								NOT = { using_cb = other_succession_on_liege }
								thirdparty_title_scope = {
									ROOT = {
										supported_claimant_title = {
											title = PREVPREV
										}
									}
									OR = {
										is_conquered = no
										conquest_culture = ROOT
									}
								}
								attacker = {
									OR = {
										in_revolt = no
										NOT = {
											liege_before_war = {
												character = PREVPREVPREV
											}
										}
									}
								}
							}
							AND = {
								attacker = {
									character = PREV
									ROOT = {
										supported_claimant = {
											religion = PREVPREV
											culture = PREVPREV
										}
									}
								}
								OR = {
									using_cb = religious
									using_cb = crusade
									using_cb = muslim_invasion
									using_cb = viking_invasion
									using_cb = invasion
									using_cb = tribal_invasion
									using_cb = claim_all
									using_cb = claim
								}
							}
						}
					}
				}
			}
		}
	}
	
	faction_antiking_ultimatum = {
		is_high_prio = yes
		
		potential = {
			leads_faction = faction_antiking
			OR = {
				NOT = { has_character_flag = faction_install_antiking_ultimatum_taken }
				had_character_flag = { flag = faction_install_antiking_ultimatum_taken days = 7 }
			}
		}
		allow = {
			war = no
			prisoner = no
			liege = {
				NOT = { war_with = ROOT }
				NOT = { reverse_has_truce = ROOT }
			}
			capital_holding = {
				controller = {
					character = ROOT
				}
			}
		}
		
		effect = {
			liege = {
				letter_event = { id = 8200 days = 3 tooltip = EVTTOOLTIP8005 }
			}
			hidden_tooltip = {
				set_character_flag = faction_install_antiking_ultimatum_taken
			}
		}
		
		revoke_allowed = {
			always = no
		}
		
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				NOT = { 
					faction_power = 
					{
						faction = faction_antiking
						power = 0.5
					}
				}
			}
			
			modifier = {
				factor = 0.5 # Slow it down a bit
			}
			
			modifier = {
				factor = 0
				liege = {
					any_war = {
						OR = {
							AND = {
								defender = { character = PREV }
								NOT = { using_cb = depose_liege }
								NOT = { using_cb = overthrow_ruler }
								NOT = { using_cb = overthrow_ruler_no_calls }
								NOT = { using_cb = succession_on_liege }
								NOT = { using_cb = other_succession_on_liege }
							}
							AND = {
								attacker = { character = PREV }
								OR = {
									using_cb = invasion
									using_cb = religious
									using_cb = tribal_invasion
									using_cb = muslim_invasion
									using_cb = viking_invasion
									using_cb = claim_all
									using_cb = claim
									using_cb = other_claim
								}
							}
						}
					}
				}
			}
		}
	}
}
